{"version":3,"sources":["assets/imgs/spinner.gif","reducers/mainReducer.js","contexts/MainContext.js","utils/SegmentControls/SegmentControls.js","components/Sidemenu/Sidemenu.js","components/Header/Header.js","components/Dashboard/Dashboard.js","utils/Alert/Alert.js","components/Comment/Comment.js","components/MyComponent.js","components/CommentThread/CommentThread.js","helper.js","components/NewQuestionComment/NewQuestionComment.js","utils/Spinner/Spinner.js","components/PdfContainer/PdfContainer.js","components/PdfView/PdfView.js","components/Login/Login.js","components/App/App.js","serviceWorker.js","index.js","assets/imgs/tab-start.svg","assets/imgs/default-profile-icon.jpg","assets/imgs/letter.png"],"names":["module","exports","modes","mode","url","initState","JSON","stringify","token","expiry","userId","UI_SIDEMENU","UI_DARKMODE","USERS","GROUPS","BOOKS","COMMENTS","version","state","parse","mainReducer","oldState","actionType","data","reduce","users","groups","books","comments","reducer","localStorage","setItem","_","pick","lib","forEach","d","id","dispatch","MainContext","createContext","nonAlphaNumericRegex","withRouter","children","location","history","useReducer","Provider","value","SegmentControls","className","vertical","props","val","Number","isInteger","sizeAttr","style","transform","length","map","c","i","key","useContext","user","src","require","alt","width","username","to","color","cursor","onClick","removeItem","replace","Header","height","setAlert","componentDidMount","getItem","axios","get","then","useEffect","pathname","joined_groups","groupId","g","title","bio","bookId","b","thumbnail","detail","undefined","Alert","alert","useState","whitespaceRegex","Comment","commentBody","commentId","showChildren","editMode","setEditMode","comment","document","querySelector","scrollIntoView","behavior","selection_data","Date","created_at","toLocaleString","replys","maxWidth","body","delete","hidden","hashtag","split","h","MyComponent","twoWayBind","property","event","valAttr","e","setState","target","Component","onSubmit","preventDefault","match","params","context","post","trim","book","replyto","typeof","push","console","log","comment_set","this","goBack","disableTracksWidthCompensation","required","cols","rows","placeholder","type","contextType","getChildNodeIndex","element","Array","from","parentNode","indexOf","sidebarModeText","selection","selectionText","position_data","Spinner","initPageState","numPages","pages","pdfjs","GlobalWorkerOptions","workerSrc","rendered","customHighlightLayer","createElement","classList","add","isArray","a","constructor","setSidebarMode","sidebarMode","pageState","setPageState","bubblePos","setBubblePos","setSelection","setSelectionText","textLoaded","setTextLoaded","fragments","highlights","cid","posData","selectionData","highlightData","j","selectionIndex","highlightFragment","hs","span","onclick","fragment","textLayer","inputRef","current","page","lines","slice","startLine","endLine","line","cloneNode","innerHTML","escape","innerText","substring","startOffset","endOffset","appendChild","firsLine","shift","lastLine","pop","m","getHighlightTags","pageNumber","createDocumentFragment","createGetFragment","forIn","useRef","onLoadSuccess","l","renderAnnotationLayer","renderTextLayer","onGetTextSuccess","loaded","s","window","getSelection","toString","Error","anchorNode","focusNode","closest","startPage","dataset","anchorOffset","endPage","focusOffset","pagesDOM","startPageLines","startPageLastLine","pageLines","pageLastLine","focusNodeClientRect","getBoundingClientRect","scrollNode","top","scrollTop","file","docfile","path","component","userFilter","setUserFilter","searchString","setSearchString","categorized","question","filtered","filter","maxHeight","tabStart","onChange","CommentThread","errorSignUp","errorLogIn","showSpinner","login","replaceAll","catch","Object","keys","response","capitalize","finally","signUp","password","password_2","Dashboard","PdfView","Login","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","getElementById","URL","process","href","origin","addEventListener","fetch","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"mTAAAA,EAAOC,QAAU,IAA0B,qC,+JCGrCC,EAAM,CACX,CACCC,KAAM,MACNC,IAAK,8CAEN,CACCD,KAAM,OACNC,IAAK,iDAGMC,EAAUC,KAAKC,UAAL,aACtBC,MAAO,KACPC,OAAQ,KACRC,OAAQ,KAERC,aAAa,EACbC,YAAa,OACbC,MAAU,GACVC,OAAU,GACVC,MAAU,GACVC,SAAU,GAGVC,QAAS,SAASf,EAxBR,GAwBoBC,MAC3BD,EAzBO,KA2BAgB,EAAMZ,KAAKa,MAAMd,GAEb,SAASe,EAAYC,EAArB,GAAiD,IAAD,mBAAjBC,EAAiB,KAANC,EAAM,KAU9D,OATAL,EAaD,SAAiBG,EAASC,EAAWC,GAAM,IAAD,QACzC,OAAOD,GACN,IAAK,YAAa,OAAO,2BAAID,GAAYE,GACzC,IAAK,kBAAmB,OAAO,2BAAIF,GAAX,IAAoBV,YAAaY,IACzD,IAAK,kBAAmB,OAAO,2BAAIF,GAAX,IAAoBT,YAAaW,IACzD,IAAK,WACJ,IAAIV,EAAK,2BAAQQ,EAASR,OAAaW,EAAM,UAACD,EAAQE,aAAT,QAAkB,KAC3DX,EAAM,2BAAOO,EAASP,QAAaU,EAAM,UAACD,EAAOG,cAAR,QAAkB,KAC3DX,EAAK,2BAAQM,EAASN,OAAaS,EAAM,UAACD,EAAQI,aAAT,QAAkB,KAC3DX,EAAS,2BAAIK,EAASL,UAAaQ,EAAM,UAACD,EAAKK,gBAAN,QAAkB,KAC/D,OAAO,2BAAIP,GAAX,IAAoBR,QAAMC,SAAOC,QAAMC,aACxC,QAAS,OAAOK,GAxBXQ,CAAQR,EAASC,EAAWC,GAElB,aAAbD,GACFQ,aAAaC,QAAQ,OAAOzB,KAAKC,UAAUyB,IAAEC,KAAKf,EAAM,CACvD,QACA,SACA,QACA,eAEKA,EAmBR,SAASM,EAAOD,GACf,IAAMW,EAAI,GAEV,OADAX,EAAKY,SAAQ,SAAAC,GAAC,OAAEF,EAAIE,EAAEC,IAAID,KACnBF,ECrDD,IACII,EADEC,EAAYC,wBAAclC,KAAKa,MAAMd,IAErCoC,EAAqB,kBACnBC,eAAW,YAA0D,IAC/ExB,EADmDyB,EAA2B,EAA3BA,SAA2B,KAAlBC,SAAkB,EAATC,QAEvDC,qBAAW1B,EAAYd,KAAKa,MAAMd,KAF8B,mBAGlF,OADEa,EAFgF,KAE1EoB,EAF0E,KAIjF,kBAACC,EAAYQ,SAAb,CAAsBC,MAAO,CAAC9B,QAAMoB,aAAYK,M,8BCZnC,SAASM,EAAT,GAAuE,IAA7CD,EAA4C,EAA5CA,MAAME,EAAsC,EAAtCA,UAAUP,EAA4B,EAA5BA,SAASQ,EAAmB,EAAnBA,SAAYC,EAAO,2DAC9EC,EAAIC,OAAOC,UAAUP,GAAOA,GAAO,EACnCQ,EAASL,EAAS,SAAS,QACjC,OACC,yCAASC,EAAT,CAAgBF,UAAW,wBAAwBA,IAClD,yBACCA,UAAU,YACVO,MAAK,aACJC,UAAWP,EAAS,cAAD,OAAmB,IAAJE,EAAf,2BAA6C,IAAJA,EAAzC,OAClBG,EAAW,IAAIb,EAASgB,OAAO,OAGjChB,EAASiB,KAAI,SAACC,EAAEC,GAAH,OAAO,kBAAC,WAAD,CAAUC,IAAKD,GAAID,OCR5BnB,mBAAW,YAA6B,IAAVG,EAAS,EAATA,QAAS,EAC9BmB,qBAAWzB,GAA3BrB,EAD8C,EAC9CA,MAAMoB,EADwC,EACxCA,SACP2B,EAAK/C,EAAML,MAAMK,EAAMR,QAC7B,OACC,6BAAS2B,GAAG,WAAWa,UAAW,qCAAqChC,EAAMP,YAAY,UAAU,KAClG,yBAAKuC,UAAU,QACf,yBAAKA,UAAU,2BACd,yBAAKA,UAAU,6BAA6BgB,IAAKC,EAAQ,IAA+CC,IAAI,yBAC5G,yBAAKlB,UAAU,qBAAqBO,MAAO,CAACY,MAAO,sBAClD,yBAAKnB,UAAU,YAAf,sBAKA,yBAAKA,UAAU,iBAAiBe,EAAKA,EAAKK,SAAS,eAGrD,kBAAC,EAAD,CAAiBpB,UAAU,SAASF,MAAO,EAAGG,UAAU,GACvD,kBAAC,IAAD,CAASoB,GAAG,aAAarB,UAAU,OAAOO,MAAO,CAACe,MAAO,SAAzD,aAOA,kBAAC,IAAD,CAAMD,GAAG,GAAGrB,UAAU,QAAtB,SAED,yBAAKA,UAAU,QACf,yBAAKA,UAAU,uBAAuBO,MAAO,CAACgB,OAAQ,WAAYC,QAIpE,WACCpC,EAAS,CAAC,YAAYhC,KAAKa,MAAMd,KACjCyB,aAAa6C,WAAW,SACxB7C,aAAa6C,WAAW,QACxB7C,aAAa6C,WAAW,UACxB9B,EAAQ+B,QAAQ,YAToE,uBAAG1B,UAAU,sBAAhG,e,4BChCY,SAAS2B,EAAT,GAA4B,IAAXlC,EAAU,EAAVA,SACxBzB,EAAO8C,qBAAWzB,GAAlBrB,MAEP,OACC,4BAAQgC,UAAU,kDACjB,wBAAIA,UAAU,kCACb,0BAAMA,UAAU,SAAhB,MADD,IACmC,0BAAMA,UAAU,SAAhB,OAClC,yBAAKA,UAAU,sBAAsBO,MAAO,CAACqB,OAAQ,SAArD,aAAwE,uBAAG5B,UAAU,SAAShC,EAAMD,WAEpG0B,GCNWD,ICNJqC,EDMIrC,eAAW,YAA+B,IAAXE,EAAU,EAAVA,SAAU,EAChCoB,qBAAWzB,GAA3BrB,EADgD,EAChDA,MAAMoB,EAD0C,EAC1CA,SACP2B,EAAK/C,EAAML,MAAMK,EAAMR,QAQ7B,SAASsE,IACR,IAAMtE,EAAOJ,KAAKa,MAAMW,aAAamD,QAAQ,WACzCvE,GACJwE,IAAMC,IAAIjE,EAAMd,IAAI,aAAaM,GAAQ0E,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KAC/Ce,EAAS,CAAC,WAAWf,OAIvB,OAZA8D,qBAAU,kBAAIL,MAAoB,IAClCK,oBAAUL,EAAkB,CAACpC,EAAS0C,WAYrC,yBAAKjD,GAAG,YAAYa,UAAU,0BAC7B,kBAAC,EAAD,KACC,yBAAKA,UAAU,QACf,yBAAKA,UAAU,iCAAiCwB,QAASM,KAE1D,yBAAK9B,UAAU,eACR,OAAJe,QAAI,IAAJA,OAAA,EAAAA,EAAMsB,gBAAiB,IAAI3B,KAAI,SAAA4B,GAChC,IAAMC,EAAEvE,EAAMJ,OAAO0E,GACrB,OAAOC,EACN,yBAAK1B,IAAKyB,EAAStC,UAAU,oBAC5B,yBAAKA,UAAU,8BACd,yBAAKA,UAAU,QAAQgB,IAAKC,EAAQ,IAAiCC,IAAI,eACzE,4BAAKqB,EAAEC,OACP,yBAAKxC,UAAU,0BAA0BuC,EAAEE,MAE3CF,EAAE9D,MAAMiC,KAAI,SAAAgC,GACZ,IAAMC,EAAE3E,EAAMH,MAAM6E,GACpB,OAAOC,EACN,kBAAC,IAAD,CAAMtB,GAAI3B,EAAS0C,SAAS,QAAQM,EAAQ1C,UAAU,sBAAsBa,IAAK6B,GAChF,yBAAK1C,UAAU,cAAcgB,IAAK2B,EAAEC,WAAa3B,EAAQ,IAAiCC,IAAI,qBAC9F,yBAAKlB,UAAU,QACd,yBAAKA,UAAU,YAAY2C,EAAEH,OAC7B,yBAAKxC,UAAU,0BAA0B2C,EAAEE,eAG5CC,WAGHA,U,yCCnDQ,SAASC,IACvB,IAAIC,EAD0B,EAEbC,qBAFa,mBAG9B,OADCD,EAF6B,KAEvBnB,EAFuB,KAI7B,yBAAK1C,GAAG,QAAQa,UAAW,SAASgD,EAAM,UAAU,MAAOA,GCA7D,I,IAAME,EAAgB,MAGP1D,eAAW,SAAS2D,EAAT,GAA6D,IAQlFC,EARuC1D,EAA0C,EAA1CA,SAASD,EAAiC,EAAjCA,SAAS4D,EAAwB,EAAxBA,UAAUC,EAAc,EAAdA,aAAc,EAC9DxC,qBAAWzB,GAA3BrB,EAD8E,EAC9EA,MAAMoB,EADwE,EACxEA,SADwE,EAExD6D,qBAFwD,mBAE9EM,EAF8E,KAErEC,EAFqE,KAI/EC,EAAQzF,EAAMF,SAASuF,GACvBtC,EAAK/C,EAAML,MAAN,OAAY8F,QAAZ,IAAYA,OAAZ,EAAYA,EAAS1C,MACzBvD,EAAQQ,EAARR,OAIP,OAAGiG,GACFL,EAAY,oCAGX,gCAAYpD,UAAU,+BAA+BwB,QAAS,kCAAIkC,SAASC,cAAT,YAA4BN,EAA5B,kBAAJ,aAAI,EAAgDO,eAAe,CAACC,SAAU,aAC3I,yBAAK7D,UAAU,cAAcyD,EAAQK,iBAEtC,yBAAK9D,UAAU,sBAAuB,IAAI+D,KAAKN,EAAQO,YAAaC,kBANzD,IAOX,yBAAKjE,UAAU,8DAId,uBAAGA,UAAU,uBAAsB,yBAAKA,UAAU,WAAWyD,EAAQS,OAAOzD,QAC5E,yBAAKT,UAAU,QACf,kBAAC,IAAD,CAAMA,UAAU,sBAAsBqB,IAAY,OAAR3B,QAAQ,IAARA,OAAA,EAAAA,EAAU0C,UAAS,WAAWiB,GAAxE,eACC7F,EAAO,KAAKiG,EAAQ1C,KAAK,GAAG,oCAC3BwC,EAAS,yBAAKvD,UAAU,wCAAwCwB,QAAS,kBAAIgC,GAAY,WAAUV,EACpG,yBAAK9C,UAAU,2DAA2DwB,QAAS,kBAAIgC,GAAY,KAClG,uBAAGxD,UAAU,qBACb,yBAAKA,UAAW,+BAA+BuD,EAAS,UAAU,MACjE,yBAAKvD,UAAU,sBAAsBwB,QA+C3C,WAECK,EACC,yBAAK7B,UAAU,aAAaO,MAAO,CAAC4D,SAAU,UAC7C,yBAAKnE,UAAU,UAAf,uCACA,yBAAKA,UAAU,YAAYwB,QAAS,kBAAIK,OACxC,yBAAK7B,UAAU,yCACd,yBAAKA,UAAU,aAAayD,EAAQW,MACpC,gCAAYpE,UAAU,0BACrB,yBAAKA,UAAU,cAAcyD,EAAQK,iBAEtC,yBAAK9D,UAAU,sBAAuB,IAAI+D,KAAKN,EAAQO,YAAaC,kBALrE,KAOA,yBAAKjE,UAAU,4EACd,4BAAQA,UAAU,UAAUwB,QAAS,kBAAIK,MAAzC,UACA,4BAAQL,QAAS,WAChBQ,IAAMqC,OAAOrG,EAAMd,IAAI,WAAWmG,GAAWnB,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KACnDwD,IACAzC,EAAS,CAAC,WAAW,CAACV,SAAU,CAACL,WAHnC,WA9D+D,uBAAG2B,UAAU,yBAA1E,kBAIC8C,IAIL,oCACC,6EAC4BO,EAD5B,0CAGA,yBAAKrD,UAAU,WACd,yBAAKb,GAAE,WAAMkE,GAAarD,UAAU,WACpC,yBAAKA,UAAU,YACbyD,EAAQa,YAAOxB,EAAU,oCACzB,yBAAK9C,UAAU,cAAcyD,EAAQc,QAAQC,MAAMtB,GAAiBxC,KAAI,SAAC+D,EAAE7D,GAAH,OAAO,0BAAMC,IAAKD,EAAGZ,UAAU,QAAxB,IAAiCyE,QAEjH,yBAAKzE,UAAU,QACf,yBAAKA,UAAU,iBAAf,IAAiCe,EAAKK,UACtC,yBAAKpB,UAAU,UAAUgB,IAAKC,EAAQ,IAA+CC,IAAI,eAE1F,yBAAKlB,UAAU,0BACd,yBAAKA,UAAU,aAAayD,EAAQa,OAAO,YAAYb,EAAQW,MAC9DX,EAAQa,YAAOxB,EAAUM,IAG3BE,IAAiB7D,MAAa,OAACgE,QAAD,IAACA,OAAD,EAACA,EAASS,OAAOzD,UAChD,yBAAKT,UAAU,4BACd,yBAAKA,UAAU,6CAAf,OACEyD,QADF,IACEA,OADF,EACEA,EAASS,OAAOxD,KAAI,SAAAC,GAAC,OAAE,kBAACwC,EAAD,eAAStC,IAAKF,GAAO,CAAC0C,UAAW1C,EAAE2C,qBAC1D7D,WAMA,K,gCC5EciF,G,mNAKpBC,WAAW,SAACC,GAAD,MAAUC,EAAV,uDAAgB,WAAWC,EAA3B,uDAAmC,QAAnC,0BACTA,EAAS,EAAK9G,MAAM4G,IADX,cAETC,GAAO,SAAAE,GAAC,OAAE,EAAKC,SAAL,eAAgBJ,EAAUG,EAAEE,OAAOH,QAFpC,G,YAL6BI,cCQnC/H,EAAUC,KAAKC,UAAU,CAC9B+G,KAAM,GACNG,QAAS,KAEK/E,eAAU,gNAExBxB,MAAMZ,KAAKa,MAAMd,GAFO,EAIxBgI,SAAS,SAAAJ,GACRA,EAAEK,iBACF,IAAM/B,EAAU,EAAKnD,MAAMmF,MAAMC,OAAOnG,GAF7B,EAGU,EAAKnB,MAAnBoG,EAHI,EAGJA,KAAKG,EAHD,EAGCA,QAHD,EAIuB,EAAKgB,QAAQvH,MAAxCF,EAJI,EAIJA,SAASD,EAJL,EAIKA,MAAML,EAJX,EAIWA,OAAON,EAJlB,EAIkBA,IACvBuG,EAAQ3F,EAASuF,GACvBrB,IAAMwD,KAAKtI,EAAI,UAAU,CACxBkH,OACAG,QAASA,EAAQ7C,QAAQnC,EAAqB,IAAIkG,OAClD1E,KAAMvD,EACNkI,KAAMjC,EAAQiC,KACdC,QAAStC,EACTuC,OAAQ,UACN1D,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KACTP,EAASuF,GAAWa,OAAO2B,KAAKxH,EAAKc,IACrC2G,QAAQC,IAAI,CAACrH,SAAU,CAACL,EAAKP,EAASuF,MACtC,IAAMqC,EAAK7H,EAAM4F,EAAQiC,MACzBA,EAAKM,YAAYH,KAAKxH,EAAKc,IAC3B,EAAKoG,QAAQnG,SAAS,CAAC,WAAW,CAACV,SAAU,CAACL,EAAKP,EAASuF,IAAY5E,MAAO,CAACiH,MAChF,EAAKV,SAAS5H,KAAKa,MAAMd,QAvBH,uDA2Bf,IAAD,EAEAgI,EAAUc,KAAVd,SAFA,EAGec,KAAK/F,MAApBP,EAHA,EAGAA,QACD0D,EAJC,EAGQgC,MACOC,OAAOnG,GAJtB,EAKc8G,KAAKV,QAAQvH,MAA3BR,EALA,EAKAA,OAAOG,EALP,EAKOA,MAEd,OACC,yBAAKqC,UAAU,iEACd,yBAAKA,UAAU,2CACd,yBAAKA,UAAU,0BAA0BwB,QAAS7B,EAAQuG,OAAQ3F,MAAO,CAACgB,OAAQ,cAEnF,kBAAC,IAAD,CAAW4E,gCAA8B,EAACnG,UAAU,uBAAuBO,MAAO,CAACqB,OAAQ,SAC1F,yBAAK5B,UAAU,6BACd,kBAAC,EAAY,CAACqD,YAAUC,cAAc,GACrC,yBAAKtD,UAAU,eACd,yBAAKA,UAAU,kCACd,yBAAKA,UAAU,QACf,yBAAKA,UAAU,iBAAf,KAAiC,UAAArC,EAAMH,UAAN,eAAe4D,WAAY,YAC5D,yBAAKpB,UAAU,UAAUgB,IAAKC,EAAQ,IAA+CC,IAAI,eAE1F,wCAAMlB,UAAU,mBAAsB,CAACmF,aACtC,yBAAKnF,UAAU,kBAAf,aACA,4CAAUoG,UAAQ,EAACpG,UAAU,SAASqG,KAAK,KAAKC,KAAK,KAAKC,YAAY,SAAYN,KAAKtB,WAAW,UAClG,yCAAO6B,KAAK,OAAOxG,UAAU,MAAMuG,YAAY,YAAeN,KAAKtB,WAAW,aAC9E,kDApDgB,GAA6BD,GAA7B,EACjB+B,YAAYpH,EADK,I,uBCdlB,SAASqH,EAAkBC,GACjC,OAAOC,MAAMC,KAAKF,EAAQG,WAAWrH,UAAUsH,QAAQJ,G,eCOlDxJ,EAAUC,KAAKC,UAAU,CAC9B+G,KAAM,GACNG,QAAS,KAEK/E,eAAU,gNAExBxB,MAAMZ,KAAKa,MAAMd,GAFO,EAIxBgI,SAAS,SAAAJ,GACRA,EAAEK,iBADS,MAGkD,EAAKlF,MAA3D8G,EAHI,EAGJA,gBAAgBC,EAHZ,EAGYA,UAAUC,EAHtB,EAGsBA,cAAcxB,EAHpC,EAGoCA,KAAK/F,EAHzC,EAGyCA,QAHzC,EAIU,EAAK3B,MAAnBoG,EAJI,EAIJA,KAAKG,EAJD,EAICA,QAJD,EAKQ,EAAKgB,QAAQvH,MAAzBR,EALI,EAKJA,OAAON,EALH,EAKGA,IAEd8E,IAAMwD,KAAKtI,EAAI,UAAU,CACxBkH,OACAG,QAASA,EAAQ7C,QAAQnC,EAAqB,IAAIkG,OAClD3B,eAAgBoD,EAChBC,cAAe/J,KAAKC,UAAU,CAAC4J,IAC/BlG,KAAMvD,EACNkI,KAAMA,EAAKvG,GACXyG,OAAQoB,IACN9E,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KACTqH,EAAKM,YAAYH,KAAKxH,EAAKc,IAC3B,EAAKoG,QAAQnG,SAAS,CAAC,WAAW,CAACV,SAAU,CAACL,GAAMI,MAAO,CAACiH,MAE5D/F,EAAQuG,aAvBc,uDA2Bf,IACDf,EAAUc,KAAVd,SADA,EAEuCc,KAAK/F,MAA5C8G,EAFA,EAEAA,gBAAgBrH,EAFhB,EAEgBA,QAAQuH,EAFxB,EAEwBA,cAE/B,OACC,yBAAKlH,UAAU,qFAAqFO,MAAO,IAC1G,wCAAMP,UAAU,aAAaO,MAAO,CAACY,MAAO,UAAc,CAACgE,aAC1D,yBAAKnF,UAAU,YAAYwB,QAAS7B,EAAQuG,SAC5C,yBAAKlG,UAAU,cAAf,OAAiCgH,GACjC,gCAAYhH,UAAU,iCACrB,yBAAKA,UAAU,cAAckH,IAE9B,4CAAUd,UAAQ,EAACpG,UAAU,SAASuG,YAAaS,GAAqBf,KAAKtB,WAAW,UACxF,yBAAK3E,UAAU,WACf,yBAAKA,UAAU,wCACd,yCAAOA,UAAU,MAAMwG,KAAK,OAAOD,YAAY,YAAeN,KAAKtB,WAAW,aAC9E,+CA3CmB,GAAkCD,GAAlC,EACjB+B,YAAYpH,EADK,I,OCPV,SAAS+H,EAAT,GAA8B,IAAZpH,EAAW,EAAXA,UAChC,OACC,yBAAKA,UAAW,+CAA+CA,GAC9D,yBAAKA,UAAU,MAAMgB,IAAKC,EAAQ,KAAkCC,IAAI,aCK3E,IAAMmG,GAAcjK,KAAKC,UAAU,CAClCiK,SAAU,EACVC,MAAO,KAGRC,IAAMC,oBAAoBC,UAA1B,kDAA+EF,IAAMzJ,QAArF,kBAEA,IAAI4J,GAAS,GAEPC,GAAqBlE,SAASmE,cAAc,OAClDD,GAAqBE,UAAUC,IAAI,yBAAyB,UAAU,kBACtE,I,MAAMC,GAAQ,SAAAC,GAAC,QAAKA,GAAMA,EAAEC,cAActB,OAE3BpH,gBAAW,YAAmH,IAA5FQ,EAA2F,EAA3FA,UAA6CmI,GAA8C,EAA1DC,YAA0D,EAA9CD,gBAAenB,EAA+B,EAA/BA,gBAAgBtH,EAAe,EAAfA,SAASgG,EAAM,EAANA,KAAM,EAC5GzC,mBAAS7F,KAAKa,MAAMoJ,KADwF,mBACpIgB,EADoI,KAC1HC,EAD0H,OAoB5GrF,mBAAS,IApBmG,mBAoBpIsF,EApBoI,KAoB1HC,EApB0H,OAqB5GvF,qBArB4G,mBAqBpIgE,EArBoI,KAqB1HwB,EArB0H,OAsBpGxF,mBAAS,IAtB2F,mBAsBpIiE,EAtBoI,KAsBtHwB,EAtBsH,OAuB1GzF,oBAAS,GAvBiG,mBAuBpI0F,EAvBoI,KAuBzHC,EAvByH,KAwB3IzG,qBAAU,WA8MTwF,GAAS,KA9MwB,IAClCxF,qBAgNA,WACC,IAAIwG,EAAY,OAEhB,IAAME,EAAU,GAWVC,EAAW,GACjBpD,EAAKM,YAAYtF,KAAI,SAAAqI,GAAG,OAAE/K,EAAMF,SAASiL,MAAM9J,SAAQ,SAAA0B,GACtD,IAAIqI,EACJ,IAAIA,EAAQ5L,KAAKa,MAAM0C,EAAEwG,eAAe,SAAM,OAC9Ca,GAAQgB,IAAYA,EAAQ/J,SAAQ,SAACgK,EAAcrI,GAAf,OAAmBoH,GAAQiB,IAAkBA,EAAchK,SAC9F,SAACiK,EAAcC,GACdL,EAAWjD,KAAX,aACCxC,UAAW1C,EAAExB,GACbiK,eAAgBxI,EAChByI,kBAAmBF,GAChBD,aAKPJ,EAAW7J,SAAQ,SAAAwF,GAClB,IAAM6E,EAAGlM,KAAKC,UAAUoH,GACxB,IAAIkD,GAAS2B,GAAI,CAChB3B,GAAS2B,IAAI,EACb,IAAMC,EAAK7F,SAASmE,cAAc,QAClC0B,EAAKpK,GAAG,IAAIsF,EAAEpB,UAAUoB,EAAE2E,eAC1BG,EAAKzB,UACJ,KAAKrD,EAAEpB,UACP,KAAKoB,EAAEpB,UAAUoB,EAAE2E,eACnB,KAAK3E,EAAEpB,UAAUoB,EAAE2E,eAAe3E,EAAE4E,kBACrCE,EAAKC,QAAQ,kCAAI9F,SAASC,cAAT,YAA4Bc,EAAEpB,mBAAlC,aAAI,EAA4CO,eAAe,CAACC,SAAU,YAQ1F,SAA0BY,EAAEgF,GAC3B,IACMC,EADKC,EAASC,QAAQnK,SAASgF,EAAEoF,MAClBpK,SAAS,GACxBqK,EAAMlD,MAAMC,KAAK6C,EAAUjK,UAAUsK,MAAMtF,EAAEuF,UAAUvF,EAAEwF,QAAQ,GACvE,GAAkB,IAAfH,EAAMrJ,OAAW,CACnB,IAAMyJ,EAAKJ,EAAM,GAAGK,WAAU,GAC9BD,EAAKE,UACJtL,IAAEuL,OAAOH,EAAKI,UAAUC,UAAU,EAAE9F,EAAE+F,cAAtC,sBACA1L,IAAEuL,OAAOH,EAAKI,UAAUC,UAAU9F,EAAE+F,YAAY/F,EAAEgG,YADlD,UAEA3L,IAAEuL,OAAOH,EAAKI,UAAUC,UAAU9F,EAAEgG,UAAUP,EAAKI,UAAU7J,SAC9DgJ,EAASiB,YAAYR,QAErB,IACC,IAAMS,EAASb,EAAMc,QAAQT,WAAU,GACjCU,EAASf,EAAMgB,MAAMX,WAAU,GAErCQ,EAASP,UACRtL,IAAEuL,OAAOM,EAASL,UAAUC,UAAU,EAAE9F,EAAE+F,cAA1C,sBACA1L,IAAEuL,OAAOM,EAASL,UAAUC,UAAU9F,EAAE+F,YAAYG,EAASL,UAAU7J,SACxEgJ,EAASiB,YAAYC,GAErBb,EAAM7K,SAAQ,SAAAiL,GACb,IAAMa,EAAEb,EAAKC,WAAU,GACvBY,EAAEjD,UAAU,OACZ2B,EAASiB,YAAYK,MAGtBF,EAAST,UACR,sBACAtL,IAAEuL,OAAOQ,EAASP,UAAUC,UAAU,EAAE9F,EAAEgG,YAD1C,UAEA3L,IAAEuL,OAAOQ,EAASP,UAAUC,UAAU9F,EAAEgG,UAAUI,EAASP,UAAU7J,SACtEgJ,EAASiB,YAAYG,GACrB,WAvCAG,CAAiBvG,EAAE8E,GApCG,SAAA0B,GAAU,uBAAEpC,EAAUoC,UAAZ,QAA0BpC,EAAUoC,GAAYvH,SAASwH,yBAqCzFC,CAAkB1G,EAAEoF,MAAMa,YAAYnB,OAGxCzK,IAAEsM,MAAMvC,GAAU,SAACY,EAASwB,GAAV,OAAuBtB,EAASC,QAAQnK,SAASwL,GAAYxL,SAAS,GAAGiL,YAAYjB,SAlOxG,IAAME,EAAS0B,mBAGf,OACC,oCACC,kBAAC,IAAD,CAAWlF,gCAA8B,GACxC,kBAAC,IAEI,CAACnG,YAAUsL,cAmBnB,YAGC,IAHkC,IAAXhE,EAAU,EAAVA,SAEjBC,EAAM,IAAIX,MAAMU,GAFW,WAGzB1G,EAAI2K,GACXhE,EAAM3G,GACL,kBAAC,IAAD,CACCC,IAAKD,EACLqK,WAAYrK,EAAE,EACd4K,uBAAuB,EACvBC,iBAAiB,EACjBtK,MAAO,IACPuK,iBAAkB,WACjB/B,EAASC,QAAQnK,SAASmB,GAAG8J,YAAY9C,GAAqBuC,WAAU,IACxEvB,IAAgB2C,EAAEI,SAASrE,OAVvB1G,EAAE,EAAE2K,EAAE,CAACI,OAAQ,GAAG/K,EAAE0G,IAAW1G,EAAG,EAAlCA,EAAI2K,GAgBZjD,EAAa,CAAChB,WAASC,WAtCSoC,WAASnI,QAsE1C,WACC,IACC,IAAMoK,EAAEC,OAAOC,eACf,GAAkB,KAAfF,EAAEG,WAAiB,MAAM,IAAIC,MAEhC,IAJE,IAGGC,EAAsBL,EAAtBK,WAAWC,EAAWN,EAAXM,WACTD,EAAWE,SAASF,EAAWA,EAAWnF,WACjD,MAAOoF,EAAUC,SAASD,EAAUA,EAAUpF,WAE9C,IAAIG,EAAU,CACbmF,UAAWH,EAAWE,QAAQ,oBAAoBE,QAAQpB,WAAW,EACrEjB,UAAWtD,EAAkBuF,EAAWE,QAAQ,uCAChD3B,YAAaoB,EAAEU,aACfC,QAASL,EAAUC,QAAQ,oBAAoBE,QAAQpB,WAAW,EAClEhB,QAASvD,EAAkBwF,EAAUC,QAAQ,uCAC7C1B,UAAWmB,EAAEY,cAIbvF,EAAUsF,QAAQtF,EAAUmF,WAC5BnF,EAAUsF,UAAUtF,EAAUmF,YAC7BnF,EAAUgD,QAAQhD,EAAU+C,WAC5B/C,EAAUgD,UAAUhD,EAAU+C,WAC7B/C,EAAUwD,UAAUxD,EAAUuD,gBAIhCvD,EAAU,CACTmF,UAAanF,EAAUsF,QACvBvC,UAAa/C,EAAUgD,QACvBO,YAAavD,EAAUwD,UACvB8B,QAAatF,EAAUmF,UACvBnC,QAAahD,EAAU+C,UACvBS,UAAaxD,EAAUuD,cAIzB,IAAMiC,EAAS7F,MAAMC,KAAK8C,EAASC,QAAQnK,UAAUsK,MACpD9C,EAAUmF,UACVnF,EAAUsF,QAAQ,GAEnB,GAAqB,IAAlBE,EAAShM,OACXwG,EAAU,CAAC,CACV4C,KAAa5C,EAAUmF,UACvBpC,UAAa/C,EAAU+C,UACvBQ,YAAavD,EAAUuD,YACvBP,QAAahD,EAAUgD,QACvBQ,UAAaxD,EAAUwD,gBAEpB,CACJ,IACMiC,EADUD,EAAS7B,QACMnL,SAAS,GAAGA,SACrCkN,EAAkB/F,MAAMC,KAAK6F,GAAgB5B,MAChC2B,EAAS3B,MAC5B7D,EAAU,CACT,CACC4C,KAAa5C,EAAUmF,UACvBpC,UAAa/C,EAAU+C,UACvBQ,YAAavD,EAAUuD,YACvBP,QAAayC,EAAejM,OAAO,EACnCgK,UAAakC,EAAkBrC,UAAU7J,SANlC,mBAQLgM,EAAS/L,KAAI,SAACmJ,EAAKjJ,GACrB,IAAMgM,EAAU/C,EAAKpK,SAAS,GAAGA,SAC3BoN,EAAajG,MAAMC,KAAK+F,GAAW9B,MACzC,MAAO,CACNjB,KAAM5C,EAAUmF,UAAUxL,EAAE,EAC5BoJ,UAAa,EACbQ,YAAa,EACbP,QAAa2C,EAAUnM,OAAO,EAC9BgK,UAAaoC,EAAavC,UAAU7J,YAhB9B,CAmBR,CACCoJ,KAAa5C,EAAUsF,QACvBvC,UAAa,EACbQ,YAAa,EACbP,QAAahD,EAAUgD,QACvBQ,UAAaxD,EAAUwD,aAK1BhC,EAAaxB,GACbyB,EAAiBkD,EAAEG,YAEnB,IAAMe,EAAoBZ,EAAUa,wBAC9BC,EAAWd,EAAUC,QAAQ,8BACnC3D,EAAa,CACZyE,IAAKH,EAAoBG,IAAIH,EAAoBlL,OAAOoL,EAAWE,YAGpE,MAAMnI,GAGN0D,IACAC,EAAiB,IACjBF,EAAa,MAtKmC2E,KAAI,OAAEzH,QAAF,IAAEA,OAAF,EAAEA,EAAM0H,SAEzD/E,EAAUd,MACX,yBAAKvH,UAAU,oDAAoDO,MAAOgI,GACzE,kBAAC,IAAD,CAAMlH,GAAI3B,EAAS0C,SAAS,eAAgBpC,UAAU,YAAYwB,QA6PvE,WAEC2G,EAAe,KA/PX,WACA,kBAAC,IAAD,CAAM9G,GAAI3B,EAAS0C,SAAS,gBAAiBpC,UAAU,YAAYwB,QAiQxE,WAEC2G,EAAe,KAnQX,eAQH,kBAAC,EAAD,CAASnI,UAAW2I,EAAW,GAAG,WAClC,kBAAC,IAAD,CAAO0E,KAAK,gBAAgBC,UAAW,SAAApN,GAAK,OAAE,kBAAC,EAAuB,CAACA,QAAM8G,kBAAgBC,YAAUC,gBAAcxB,YACrH,kBAAC,IAAD,CAAO2H,KAAK,iBAAiBC,UAAW,SAAApN,GAAK,OAAE,kBAAC,EAAuB,CAACA,QAAM8G,kBAAgBC,YAAUC,gBAAcxB,gBCtF1GlG,gBAAW,YAAkC,IAAhBG,EAAe,EAAfA,QAAQ0F,EAAO,EAAPA,MAAO,EACnCvE,qBAAWzB,GAA3BrB,EADmD,EACnDA,MAAMoB,EAD6C,EAC7CA,SAD6C,EAEvB6D,mBAAS,GAFc,mBAEnDmF,EAFmD,KAEvCD,EAFuC,OAGzBlF,oBAAS,GAHgB,mBAGnDsK,EAHmD,KAGxCC,EAHwC,OAIrBvK,mBAAS,IAJY,mBAInDwK,EAJmD,KAItCC,EAJsC,KAK1DvL,qBAAU,kBAAIL,MAAoB,IAElC,IAAM4D,EAAK1H,EAAMH,MAAMwH,EAAMC,OAAOnG,IAC7B3B,EAAQQ,EAARR,OACDwJ,EAA8B,IAAdoB,EAAgB,WAAW,UAE3CuF,EAAY,CACjBC,SAAU,GACVnK,QAAS,IAEN,OAAJiC,QAAI,IAAJA,KAAMM,YAAY/G,SAAQ,SAAA0B,IACzBA,EAAE3C,EAAMF,SAAS6C,MAEbgN,EAAYhN,EAAEiF,UAAS+H,EAAYhN,EAAEiF,QAAQ,IAC7CjF,EAAE2D,QAAQqJ,EAAYhN,EAAEiF,QAAQC,KAAKlF,OAE1C,IAAMkN,EAASF,EAAY3G,GAAiB8G,QAAO,SAAArK,GAAO,QACvD8J,GAAcA,GAAc,GAAG9J,EAAQ1C,OAAO,GAAGvD,KACT,IAAzCiG,EAAQc,QAAQwC,QAAQ0G,MAG1B,OACC,yBAAKzN,UAAU,yCACd,6BAASA,UAAU,oBAClB,yBAAKA,UAAU,4BACd,kBAAC,GAEI,CAAwBoI,cAAYD,iBAAenB,kBAAgBtB,UAEzE,yBAAK1F,UAAU,6BACd,yBAAKA,UAAU,wBACd,yBAAKA,UAAU,MAAMO,MAAO,CAACwN,UAAW,UACxC,yBAAK/N,UAAyB,IAAdoI,EAAgB,SAAS,GAAI5G,QAAS,kBAAI2G,EAAe,KACxE,yBAAKnH,IAAKgN,IAAU9M,IAAI,KACxB,yBAAKlB,UAAU,sBAAf,aAA8C,0BAAMA,UAAU,MAC5D2N,EAAW,SAAalN,SAE1B,yBAAKO,IAAKgN,IAAU9M,IAAI,MAEzB,yBAAKlB,UAAyB,IAAdoI,EAAgB,SAAS,GAAI5G,QAAS,kBAAI2G,EAAe,KACxE,yBAAKnH,IAAKgN,IAAU9M,IAAI,KACxB,yBAAKlB,UAAU,sBAAf,YAA6C,0BAAMA,UAAU,MAC3D2N,EAAW,QAAYlN,SAEzB,yBAAKO,IAAKgN,IAAU9M,IAAI,MAEzB,0BAAMlB,UAAU,SAEjB,yBAAKA,UAAU,OACd,kBAAC,IAAD,CAAWmG,gCAA8B,GACxC,yBAAKnG,UAAU,qBACb6N,EAASnN,KAAI,SAAAC,GAAC,OAAE,kBAAC,EAAD,eAASE,IAAKF,EAAExB,IAAQ,CAACkE,UAAW1C,EAAExB,SACvD,yBAAKoB,MAAO,CAACqB,OAAQ,YACrB,yBAAK5B,UAAU,8DACd,yBAAKA,UAAU,qBACd,kBAAC,EAAD,CAAiBF,OAAQyN,GACxB,yBAAKvN,UAAU,0BAA0BwB,QAAS,kBAAIgM,GAAc,KAApE,OAAiFxG,EAAjF,KACA,yBAAKhH,UAAU,0BAA0BwB,QAAS,kBAAIgM,GAAc,KAApE,MAA+ExG,EAA/E,MAED,2BAAOR,KAAK,OAAOD,YAAY,6BAA+B0H,SAAU,SAAAlJ,GAAC,OAAE2I,EAAgB3I,EAAEE,OAAOnF,WAErG,yBAAKE,UAAU,yCAAyC6N,EAASpN,OAAjE,kBAON,kBAAC,EAAD,KACC,yBAAKT,UAAU,+CAA+CwB,QAAS7B,EAAQuG,SAE/E,yBAAKlG,UAAU,wBACd,wBAAIA,UAAU,gBAAgB0F,EAAKA,EAAKlD,MAAM,cAC9C,yBAAKxC,UAAU,iBAAf,sBAED,yBAAKA,UAAU,iCAAiCwB,QAASM,KAG1D,kBAAC,IAAD,CAAOuL,KAAK,eAAeC,UAAWY,KAIxC,SAASpM,IACRE,IAAMC,IAAIjE,EAAMd,IAAI,eAAemI,EAAMC,OAAOnG,IAAI+C,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KAC1De,EAAS,CAAC,WAAWf,WC5FlBlB,I,OAAUC,KAAKC,UAAU,CAC9BJ,KAAM,EACNkR,YAAa,GACbC,WAAY,GACZC,aAAa,KAEC7O,gBAAU,kNAExBxB,MAAMZ,KAAKa,MAAMd,IAFO,EAIxBmR,MAAM,SAAAvJ,GACLA,EAAEK,iBACF,EAAKJ,SAAS,CAACqJ,aAAa,IAFpB,IAIDjN,EAAU,EAAKpD,MAAfoD,SAJC,EAKiB,EAAKlB,MAAvBP,EALC,EAKDA,QAAQD,EALP,EAKOA,SACRxC,EAAK,EAAKqI,QAAQvH,MAAlBd,IACP8E,IAAMwD,KAAKtI,EAAI,QAAQ4B,IAAEC,KAAK,EAAKf,MAAM,CAAC,WAAW,cACnDkE,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KACDiQ,EAAMxP,IAAEC,KAAKV,EAAK,CAAC,QAAQ,WACjCO,aAAaC,QAAQ,QAAQzB,KAAKC,UAAUiR,IAC5C,EAAK/I,QAAQnG,SAAS,CAAC,YAAD,eAClBkP,KAEJtM,IAAMC,IAAI/E,EAAI,QAAQkE,GAAUc,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KAChCb,EAAOa,EAAKc,GAClB,EAAKoG,QAAQnG,SAAS,CAAC,WAAW,CAACb,MAAO,CAACF,MAC3C,EAAKkH,QAAQnG,SAAS,CAAC,YAAY,CAAC5B,YACpCoB,aAAaC,QAAQ,SAASzB,KAAKC,UAAUG,IAC7CmC,EAAQ+B,QAAQhC,EAAS0C,SAASmM,WAAW,SAAS,WAGvDC,OAAM,SAAAzJ,GACN,EAAKC,SAAS,CAACoJ,WAAYK,OAAOC,KAAK3J,EAAE4J,SAAStQ,MAAMqC,KAAI,SAAAG,GAAG,OAAE,uCAAe/B,IAAE8P,WAAW/N,GAA5B,KAAoCkE,EAAE4J,SAAStQ,KAAKwC,YAErHgO,SAAQ,kBAAI,EAAK7J,SAAS,CAACqJ,aAAa,QA7BnB,EAgCxBS,OAAO,SAAA/J,GACNA,EAAEK,iBACF,EAAKJ,SAAS,CAACqJ,aAAa,IAFnB,MAImB,EAAKrQ,MAA1B+Q,EAJE,EAIFA,SAASC,EAJP,EAIOA,WACT9R,EAAK,EAAKqI,QAAQvH,MAAlBd,IACJ6R,IAAWC,EAIdhN,IAAMwD,KAAKtI,EAAI,WAAW4B,IAAEC,KAAK,EAAKf,MAAM,CAAC,WAAW,WAAW,WACjEkE,MAAK,YAAW,IAAT7D,EAAQ,EAARA,KACPyH,QAAQC,IAAI1H,EAAK,EAAKL,MAAMZ,KAAKa,MAAMd,KACvC,EAAK6H,SAAS5H,KAAKa,MAAMd,KAGzB6E,IAAMC,IAAN,2DADc,uCACd,oBAAiF5D,EAAK0C,KAAK5B,QAE3FqP,OAAM,SAAAzJ,GACN,EAAKC,SAAS,CAACmJ,YAAaM,OAAOC,KAAK3J,EAAE4J,SAAStQ,MAAMqC,KAAI,SAAAG,GAAG,OAAE,uCAAe/B,IAAE8P,WAAW/N,GAA5B,KAAoCkE,EAAE4J,SAAStQ,KAAKwC,YAEtHgO,SAAQ,kBAAI,EAAK7J,SAAS,CAACqJ,aAAa,OAdzC,EAAKrJ,SAAS,CAACmJ,YAAa,0EAvCN,uDAwDf,IAAD,OACAG,EAAcrI,KAAdqI,MAAMQ,EAAQ7I,KAAR6I,OADN,EAEyC7I,KAAKjI,MAA9Cf,EAFA,EAEAA,KAAKkR,EAFL,EAEKA,YAAYC,EAFjB,EAEiBA,WAAWC,EAF5B,EAE4BA,YAC5BtQ,EAASkI,KAAKV,QAAQvH,MAAtBD,QAEP,OACC,yBAAKoB,GAAG,QAAQa,UAAU,0BACzB,yBAAKA,UAAU,sBACd,yBAAKA,UAAU,OACd,wBAAIA,UAAU,iBAAd,SACO,yBAAKA,UAAU,sBAAsBO,MAAO,CAACqB,OAAQ,SAArD,aAAyE7D,KAGjF,yBAAKiC,UAAU,iCAAiCO,MAAO,CAACY,MAAO,UAC9D,kBAAC,EAAD,CAAiBrB,MAAO7C,GACvB,yBAAK+C,UAAU,eAAewB,QAAS,kBAAI,EAAKwD,SAAS,CAAC/H,KAAM,MAAhE,UACA,yBAAK+C,UAAU,eAAewB,QAAS,kBAAI,EAAKwD,SAAS,CAAC/H,KAAM,MAAhE,YAEO,IAAPA,EACA,0BAAM+C,UAAU,6CAA6CmF,SAAUmJ,GACtE,6BACC,sCACA,yBAAKtO,UAAU,iBAAf,6BAED,yBAAKA,UAAU,QACf,2BAAOoG,UAAQ,EAACpG,UAAU,WAA1B,YACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,YAApC,CAAiD6B,KAAK,UACtD,2BAAOJ,UAAQ,EAACpG,UAAU,WAA1B,YACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,YAApC,CAAiD6B,KAAK,cAEtD,yBAAKxG,UAAU,+BAA+BoO,GAC9C,yBAAKpO,UAAU,0EACd,0CACA,wBAAIA,UAAU,cACd,yBAAKA,UAAU,qBAAqBwB,QAAS,kBAAI,EAAKwD,SAAS,CAAC/H,KAAM,MAAtE,6BAGD,0BAAM+C,UAAU,6CAA6CmF,SAAU2J,GACvE,6BACC,uCACA,yBAAK9O,UAAU,iBAAf,6BAED,yBAAKA,UAAU,QACf,2BAAOoG,UAAQ,EAACpG,UAAU,WAA1B,SACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,SAApC,CAA8C6B,KAAK,WACnD,2BAAOJ,UAAQ,EAACpG,UAAU,WAA1B,YACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,YAApC,CAAiD6B,KAAK,UACtD,2BAAOJ,UAAQ,EAACpG,UAAU,WAA1B,YACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,YAApC,CAAiD6B,KAAK,cACtD,2BAAOJ,UAAQ,EAACpG,UAAU,WAA1B,oBACA,yCAAOoG,UAAQ,GAAKH,KAAKtB,WAAW,cAApC,CAAmD6B,KAAK,cAExD,yBAAKxG,UAAU,+BAA+BmO,GAC9C,yBAAKnO,UAAU,0EACd,2CACA,wBAAIA,UAAU,cACd,yBAAKA,UAAU,qBAAqBwB,QAAS,kBAAI,EAAKwD,SAAS,CAAC/H,KAAM,MAAtE,kCAML,kBAAC,EAAY,CAAC+C,UAAWqO,EAAY,SAAS,UAtHzB,GAAqB3J,GAArB,GACjB+B,YAAYpH,EADK,KCNVG,gBAAW,YAAiC,IAAnBG,EAAkB,EAAlBA,QAAQD,EAAU,EAAVA,SAC/CyC,qBAAU,kBAyBV,WACC,IAAMmM,EAAM1P,aAAamD,QAAQ,SAC9BuM,GACFlP,EAAS,CAAC,YAAD,eACLhC,KAAKa,MAAMqQ,MAIhB,IAAMjQ,EAAKO,aAAamD,QAAQ,QAC7B1D,GAAMe,EAAS,CAAC,YAAYhC,KAAKa,MAAMI,KAC1C,IAAMb,EAAOoB,aAAamD,QAAQ,UAC/BvE,GAAQ4B,EAAS,CAAC,YAAY,CAAC5B,YApCrBsE,KAAoB,IADuB,IAElD1C,EAAU0B,qBAAWzB,GAArBD,SAOP,MALuB,MAApBM,EAAS0C,UACXzC,EAAQ+B,QAAQ,cACb9C,aAAamD,QAAQ,WAAmD,IAAvCrC,EAAS0C,SAAS2E,QAAQ,WAC9DpH,EAAQ+B,QAAQhC,EAAS0C,SAAS,UAGlC,yBAAKjD,GAAG,OACP,kBAAC,EAAD,MACA,yBAAKA,GAAG,eAAea,UAAU,0BAChC,kBAAC,IAAD,CAAOqN,KAAK,aAAaC,UAAW2B,KAErC,kBAAC,IAAD,CAAO5B,KAAK,YAAYC,UAAW4B,KACnC,kBAAC,IAAD,CAAO7B,KAAK,UAAUC,UAAW6B,KACjC,yBACChQ,GAAG,SACHa,UAAU,8BACVwB,QAAS,kBAAIpC,EAAS,CAAC,mBAAkB,OAV3C,IAYC,kBAAC2D,EAAD,UCrBGqM,GAAcC,QACW,cAA7BxD,OAAOnM,SAAS4P,UAEe,UAA7BzD,OAAOnM,SAAS4P,UAEhBzD,OAAOnM,SAAS4P,SAASjK,MACvB,2DAsCN,SAASkK,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTtN,MAAK,SAAA2N,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB/R,QACf0R,UAAUC,cAAcO,YAI1BpK,QAAQC,IACN,iHAKE0J,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlB/J,QAAQC,IAAI,sCAGR0J,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5BrB,OAAM,SAAA6B,GACLvK,QAAQuK,MAAM,4CAA6CA,MCvFjEC,IAASC,OACR,kBAAC,IAAD,KACC,kBAAC,EAAD,KAEE,kBAAC,GAAD,QAIH7M,SAAS8M,eAAe,SDKlB,SAAkBf,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIe,IAAIC,IAAwB7E,OAAOnM,SAASiR,MACpDC,SAAW/E,OAAOnM,SAASkR,OAIvC,OAGF/E,OAAOgF,iBAAiB,QAAQ,WAC9B,IAAMrB,EAAK,UAAMkB,IAAN,sBAEPtB,KAgEV,SAAiCI,EAAOC,GAEtCqB,MAAMtB,EAAO,CACXuB,QAAS,CAAE,iBAAkB,YAE5B7O,MAAK,SAAAyM,GAEJ,IAAMqC,EAAcrC,EAASoC,QAAQ9O,IAAI,gBAEnB,MAApB0M,EAASsC,QACO,MAAfD,IAA8D,IAAvCA,EAAYjK,QAAQ,cAG5C2I,UAAUC,cAAcuB,MAAMhP,MAAK,SAAA2N,GACjCA,EAAasB,aAAajP,MAAK,WAC7B2J,OAAOnM,SAAS0R,eAKpB7B,GAAgBC,EAAOC,MAG1BjB,OAAM,WACL1I,QAAQC,IACN,oEAvFAsL,CAAwB7B,EAAOC,GAI/BC,UAAUC,cAAcuB,MAAMhP,MAAK,WACjC4D,QAAQC,IACN,iHAMJwJ,GAAgBC,EAAOC,OC3B/BE,I,mBCvBA7S,EAAOC,QAAU,IAA0B,uC,iBCA3CD,EAAOC,QAAU,uuP,mBCAjBD,EAAOC,QAAU,IAA0B,oC","file":"static/js/main.e65849df.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/spinner.3d035a55.gif\";","import _ from 'lodash'\r\n\r\nconst mode=0\r\nconst modes=[\r\n\t{\r\n\t\tmode: 'dev',\r\n\t\turl: 'https://bbapi-testing.herokuapp.com/bbapi/',\r\n\t},\r\n\t{\r\n\t\tmode: 'prod',\r\n\t\turl: 'https://test-for-bbbook.herokuapp.com/bbapi/',\r\n\t},\r\n]\r\nexport const initState=JSON.stringify({\r\n\ttoken: null,\r\n\texpiry: null,\r\n\tuserId: null,\r\n\r\n\tUI_SIDEMENU: false,\r\n\tUI_DARKMODE: 'auto', // 'auto',true,false\r\n\tUSERS:    {},\r\n\tGROUPS:   {},\r\n\tBOOKS:    {},\r\n\tCOMMENTS: {},\r\n\r\n\r\n\tversion: '0.0.8 '+modes[mode].mode,\r\n\t...modes[mode]\r\n})\r\nexport let state=JSON.parse(initState)\r\n\r\nexport default function mainReducer(oldState,[actionType,data]){\r\n\tstate=reducer(oldState,actionType,data)\r\n\t// console.log(state)\r\n\tif(actionType==='SET_DATA')\r\n\t\tlocalStorage.setItem('data',JSON.stringify(_.pick(state,[\r\n\t\t\t'USERS',\r\n\t\t\t'GROUPS',\r\n\t\t\t'BOOKS',\r\n\t\t\t'COMMENTS',\r\n\t\t])))\r\n\treturn state\r\n}\r\n\r\n// RULE: Do not touch state in reducer()\r\nfunction reducer(oldState,actionType,data){\r\n\tswitch(actionType){\r\n\t\tcase 'SET_STATE': return {...oldState,...data}\r\n\t\tcase 'SET_UI_SIDEMENU': return {...oldState,UI_SIDEMENU: data}\r\n\t\tcase 'SET_UI_DARKMODE': return {...oldState,UI_DARKMODE: data}\r\n\t\tcase 'SET_DATA':\r\n\t\t\tlet USERS   ={...oldState.USERS   ,...(reduce(data.   users ?? []))}  // eslint-disable-line no-whitespace-before-property\r\n\t\t\tlet GROUPS  ={...oldState.GROUPS  ,...(reduce(data.  groups ?? []))}  // eslint-disable-line no-whitespace-before-property\r\n\t\t\tlet BOOKS   ={...oldState.BOOKS   ,...(reduce(data.   books ?? []))}  // eslint-disable-line no-whitespace-before-property\r\n\t\t\tlet COMMENTS={...oldState.COMMENTS,...(reduce(data.comments ?? []))}\r\n\t\t\treturn {...oldState,USERS,GROUPS,BOOKS,COMMENTS}\r\n\t\tdefault: return oldState\r\n\t}\r\n}\r\n\r\nfunction reduce(data){\r\n\tconst lib={}\r\n\tdata.forEach(d=>lib[d.id]=d)\r\n\treturn lib\r\n}\r\n","import React,{\r\n\tcreateContext,\r\n\tuseReducer,\r\n\t// useEffect,\r\n} from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\n// import _ from 'lodash'\r\n\r\nimport mainReducer,{initState} from '../reducers/mainReducer'\r\n\r\nexport const MainContext=createContext(JSON.parse(initState))\r\nexport let dispatch\r\nexport const nonAlphaNumericRegex=/[^A-Za-z0-9 ]+/g\r\nexport default withRouter(function MainContextProvider({children,location,history}){\r\n\tlet state\r\n\t([state,dispatch]=useReducer(mainReducer,JSON.parse(initState)))\r\n\treturn (\r\n\t\t<MainContext.Provider value={{state,dispatch}}>{children}</MainContext.Provider>\r\n\t)\r\n})\r\n","import React,{Fragment} from 'react'\r\n// import _ from 'lodash'\r\n\r\nimport './SegmentControls.scss'\r\n\r\nexport default function SegmentControls({value,className,children,vertical,...props}){\r\n\tconst val=Number.isInteger(value)?value:-1\r\n\tconst sizeAttr=vertical?'height':'width'\r\n\treturn (\r\n\t\t<div {...props} className={'segment-controls row '+className}>\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"highlight\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttransform: vertical?`translateY(${val*100}%)`:`translateX(${val*100}%)`,\r\n\t\t\t\t\t[sizeAttr]: 100/children.length+'%',\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{children.map((c,i)=><Fragment key={i}>{c}</Fragment>)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React,{useContext} from 'react'\r\nimport {Link,NavLink,withRouter} from 'react-router-dom'\r\n\r\nimport './Sidemenu.scss'\r\nimport {MainContext} from '../../contexts/MainContext'\r\nimport SegmentControls from '../../utils/SegmentControls/SegmentControls'\r\nimport {initState} from '../../reducers/mainReducer'\r\n\r\n// MAYBE: Hover segment controls\r\nexport default withRouter(function Sidemenu({history}){\r\n\tconst {state,dispatch}=useContext(MainContext)\r\n\tconst user=state.USERS[state.userId]\r\n\treturn (\r\n\t\t<section id=\"Sidemenu\" className={'f-vert p-8 pos-abs stretch-to-fit'+(state.UI_SIDEMENU?' active':'')}>\r\n\t\t\t<div className=\"col\"/>\r\n\t\t\t<div className=\"row f-vert spc-12 mb-12\">\r\n\t\t\t\t<img className=\"profile-icon f-self-center\" src={require('../../assets/imgs/default-profile-icon.jpg')} alt=\"default-profile-icon\"/>\r\n\t\t\t\t<div className=\"text-center col-12\" style={{width: 'calc(100% - 72px)'}}>\r\n\t\t\t\t\t<div className=\"one-line\">\r\n\t\t\t\t\t\tFirstname Lastname\r\n\t\t\t\t\t\t{/*{user?user.first_name:'Firstname'}*/}\r\n\t\t\t\t\t\t{/*{user?user.last_name:'Lastname'}*/}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"h7 text-muted\">{user?user.username:'@Username'}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<SegmentControls className=\"f-vert\" value={0} vertical={true}>\r\n\t\t\t\t<NavLink to=\"/dashboard\" className=\"p-12\" style={{color: '#333'}}>Dashboard</NavLink>\r\n\t\t\t\t{/*<Link to=\"/library\" className=\"p-12\">My Dashboard</Link>*/}\r\n\t\t\t\t{/*<Link to=\"/favorites\" className=\"p-12\">Favorites</Link>*/}\r\n\t\t\t\t{/*<Link to=\"/connections\" className=\"p-12\">My Connections</Link>*/}\r\n\t\t\t\t{/*<Link to=\"/groups\" className=\"p-12\">Groups</Link>*/}\r\n\t\t\t\t{/*<Link to=\"/settings\" className=\"p-12\">Account settings</Link>*/}\r\n\t\t\t\t{/*<Link className=\"p-12\">Switch account</Link>*/}\r\n\t\t\t\t<Link to=\"\" className=\"p-12\">&nbsp;</Link>\r\n\t\t\t</SegmentControls>\r\n\t\t\t<div className=\"col\"/>\r\n\t\t\t<div className=\"h7 text-center mb-12\" style={{cursor: 'pointer'}} onClick={logout}><i className=\"icon icon-signout\"/> Logout</div>\r\n\t\t</section>\r\n\t)\r\n\r\n\tfunction logout(){\r\n\t\tdispatch(['SET_STATE',JSON.parse(initState)])\r\n\t\tlocalStorage.removeItem('login')\r\n\t\tlocalStorage.removeItem('data')\r\n\t\tlocalStorage.removeItem('userId')\r\n\t\thistory.replace('/login')\r\n\t}\r\n})","import React,{useContext} from 'react'\r\n\r\nimport './Header.scss'\r\nimport {MainContext} from '../../contexts/MainContext'\r\n\r\nexport default function Header({children}){\r\n\tconst {state}=useContext(MainContext)\r\n\r\n\treturn (\r\n\t\t<header className=\"Header row spc-x-8 f-center pos-sty f-order-m1\">\r\n\t\t\t<h3 className=\"logo small-caps f-center ml-12\">\r\n\t\t\t\t<span className=\"b-800\">BB</span>B<span className=\"b-600\">ook</span>\r\n\t\t\t\t<sup className=\"h7 normal-caps ml-4\" style={{height: 'auto'}}>Pre-Alpha <b className=\"b-900\">{state.version}</b></sup>\r\n\t\t\t</h3>\r\n\t\t\t{children}\r\n\t\t\t{/*<SegmentControls className=\"ml-16\" value={1}>*/}\r\n\t\t\t{/*\t<div className=\"super-center px-16\">Discover</div>*/}\r\n\t\t\t{/*\t<div className=\"super-center px-16 active\">Dashboard</div>*/}\r\n\t\t\t{/*</SegmentControls>*/}\r\n\t\t\t{/*<div className=\"col\"/>*/}\r\n\t\t\t{/*<input className=\"col mx-8\" type=\"search\"/>*/}\r\n\t\t\t{/*<button className=\"new-group-button mr-16 f-center\">New Group</button>*/}\r\n\t\t\t{/*<div className=\"text-right\">*/}\r\n\t\t\t{/*\tFirstname Lastname*/}\r\n\t\t\t{/*\t<div className=\"h7 text-muted\">@Username</div>*/}\r\n\t\t\t{/*</div>*/}\r\n\t\t\t{/*<img*/}\r\n\t\t\t{/*\tclassName=\"profile-icon\"*/}\r\n\t\t\t{/*\tsrc={require('../../assets/imgs/default-profile-icon.jpg')}*/}\r\n\t\t\t{/*\talt=\"default-profile-icon\"*/}\r\n\t\t\t{/*\tonClick={()=>dispatch(['SET_UI_SIDEMENU',!state.UI_SIDEMENU])}/>*/}\r\n\t\t</header>\r\n\t)\r\n}\r\n","import React,{useEffect,useContext} from 'react'\r\nimport {Link,withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport './Dashboard.scss'\r\nimport Header from '../Header/Header'\r\nimport {MainContext} from '../../contexts/MainContext'\r\n\r\nexport default withRouter(function Dashboard({location}){\r\n\tconst {state,dispatch}=useContext(MainContext)\r\n\tconst user=state.USERS[state.userId]\r\n\t// const {loaded,setLoaded}=useState(false)\r\n\t// console.log(useState(false))\r\n\r\n\tuseEffect(()=>componentDidMount(),[]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\tuseEffect(componentDidMount,[location.pathname])\r\n\t// useEffect(didUpdate)\r\n\r\n\tfunction componentDidMount(){\r\n\t\tconst userId=JSON.parse(localStorage.getItem('userId'))\r\n\t\tif(!userId) return\r\n\t\taxios.get(state.url+'dashboard/'+userId).then(({data})=>{\r\n\t\t\tdispatch(['SET_DATA',data])\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"Dashboard\" className=\"pos-abs stretch-to-fit\">\r\n\t\t\t<Header>\r\n\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t<div className=\"icon icon-refresh super-center\" onClick={componentDidMount}/>\r\n\t\t\t</Header>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t{(user?.joined_groups || []).map(groupId=>{\r\n\t\t\t\t\tconst g=state.GROUPS[groupId]\r\n\t\t\t\t\treturn g?(\r\n\t\t\t\t\t\t<div key={groupId} className=\"group row spc-16\">\r\n\t\t\t\t\t\t\t<div className=\"title col-12 pb-12 pos-rel\">\r\n\t\t\t\t\t\t\t\t<img className=\"mr-12\" src={require('../../assets/imgs/letter.png')} alt=\"Group icon\"/>\r\n\t\t\t\t\t\t\t\t<h3>{g.title}</h3>\r\n\t\t\t\t\t\t\t\t<div className=\"h7 text-muted one-line\">{g.bio}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{g.books.map(bookId=>{\r\n\t\t\t\t\t\t\t\tconst b=state.BOOKS[bookId]\r\n\t\t\t\t\t\t\t\treturn b?(\r\n\t\t\t\t\t\t\t\t\t<Link to={location.pathname+'/pdf/'+bookId} className=\"col-3 col-2-xl book\" key={bookId}>\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"col-12 card\" src={b.thumbnail || require('../../assets/imgs/letter.png')} alt=\"Book placeholder\"/>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pt-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"one-line\">{b.title}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"h7 text-muted one-line\">{b.detail}</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t):undefined\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t):undefined\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n})\r\n","import React,{useState} from 'react'\r\n\r\nexport let setAlert\r\n\r\nexport default function Alert(){\r\n\tlet alert\r\n\t[alert,setAlert]=useState()\r\n\treturn (\r\n\t\t<div id=\"Alert\" className={'modal'+(alert?' active':' ')}>{alert}</div>\r\n\t)\r\n}","import React,{useContext,useState} from 'react'\r\nimport {Link,withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport './Comment.scss'\r\nimport {MainContext} from '../../contexts/MainContext'\r\nimport {setAlert} from '../../utils/Alert/Alert'\r\n\r\nconst whitespaceRegex=/\\s+/\r\n\r\n// TODO: CommentBody\r\nexport default withRouter(function Comment({location,children,commentId,showChildren}){\r\n\tconst {state,dispatch}=useContext(MainContext)\r\n\tconst [editMode,setEditMode]=useState()\r\n\r\n\tconst comment=state.COMMENTS[commentId]\r\n\tconst user=state.USERS[comment?.user]\r\n\tconst {userId}=state\r\n\r\n\tlet commentBody\r\n\r\n\tif(comment){\r\n\t\tcommentBody=<>\r\n\t\t\t{/* TODO: selectionIndex data redesign */}\r\n\t\t\t{/* TODO: remove onCLick workaround after node.js backend */}\r\n\t\t\t<blockquote className=\"h7 text-muted mt-2 row cur-p\" onClick={()=>document.querySelector(`#a${commentId}0>span`)?.scrollIntoView({behavior: 'smooth'})}>\r\n\t\t\t\t<div className=\"trim-y col\">{comment.selection_data}</div>\r\n\t\t\t</blockquote>\r\n\t\t\t<div className=\"h8 my-2 text-right\">{(new Date(comment.created_at)).toLocaleString()}</div> {/* TODO: Beautify */}\r\n\t\t\t<div className=\"bottom-row col-ext-x col-ext-b row spc-8 spc-x-12 f-center\">\r\n\t\t\t\t{/*<i className=\"icon icon-arrow_big_up\" onClick={like}/><div className=\"h7 ml-0\">{comment.liked.length}</div>*/}\r\n\t\t\t\t{/*<i className=\"icon icon-arrow_big_down text-muted\"/><div className=\"h7 ml-0\">{comment.disliked.length}</div>*/}\r\n\t\t\t\t{/*<i className=\"fa fa-star text-muted h6\"/>*/}\r\n\t\t\t\t<i className=\"icon icon-reply h6\"/><div className=\"h7 ml-0\">{comment.replys.length}</div>\r\n\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t<Link className=\"button super-center\" to={location?.pathname+'/thread/'+commentId}>Open Thread</Link>\r\n\t\t\t\t{userId+''===comment.user+''?<>\r\n\t\t\t\t\t{editMode?<div className=\"edit-form-open pos-abs stretch-to-fit\" onClick={()=>setEditMode(false)}/>:undefined}\r\n\t\t\t\t\t<div className=\"px-12 py-8 col-ext pos-rel f-self-stretch f-center cur-p\" onClick={()=>setEditMode(true)}>\r\n\t\t\t\t\t\t<i className=\"fa fa-ellipsis-v\"/>\r\n\t\t\t\t\t\t<div className={'edit-form pos-abs card trim'+(editMode?' active':' ')}>\r\n\t\t\t\t\t\t\t<div className=\"px-12 py-8 f-center\" onClick={deleteComment}><i className=\"icon-cross_mark mr-8\"/>Delete</div>\r\n\t\t\t\t\t\t\t{/*<div className=\"px-12 py-8\">Edit</div>*/}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>:undefined}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<style>{`\r\n\t\t\t\t.custom-highlight-layer>.a${commentId}{ display: block !important }\r\n\t\t\t`}</style>\r\n\t\t\t\t<div className=\"Comment\">\r\n\t\t\t\t\t<div id={`b${commentId}`} className=\"id-tag\"/>\r\n\t\t\t\t\t<div className=\"row pb-4\">\r\n\t\t\t\t\t\t{comment.hidden?undefined:<>\r\n\t\t\t\t\t\t\t<div className=\"h7 hashtag\">{comment.hashtag.split(whitespaceRegex).map((h,i)=><span key={i} className=\"mr-4\">#{h}</span>)}</div>\r\n\t\t\t\t\t\t</>}\r\n\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t<div className=\"h7 text-muted\">@{user.username}</div>\r\n\t\t\t\t\t\t<img className=\"pos-rel\" src={require('../../assets/imgs/default-profile-icon.jpg')} alt=\"User icon\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card row f-vert spc-12\">\r\n\t\t\t\t\t\t<div className=\"o ne-line\">{comment.hidden?'[Deleted]':comment.body}</div>\r\n\t\t\t\t\t\t{comment.hidden?undefined:commentBody}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{showChildren && (children || !!comment?.replys.length) &&\r\n\t\t\t\t<div className=\"reply col-ext row spc-12\">\r\n\t\t\t\t\t<div className=\"col col-ext-x col-ext-t row spc-12 f-vert\">\r\n\t\t\t\t\t\t{comment?.replys.map(c=><Comment key={c} {...{commentId: c,showChildren}}/>)}\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</>\r\n\t\t)\r\n\t}else return undefined\r\n\r\n\t// function like(){\r\n\t// \taxios.put(state.url+'like/'+commentId,undefined,{headers:{\r\n\t// \t\t\tuserid: userId\r\n\t// \t\t}}).then(({data})=>{\r\n\t// \t\tconsole.log(data)\r\n\t// \t})\r\n\t// }\r\n\r\n\tfunction deleteComment(){\r\n\t\t// TODO: Use commentBody\r\n\t\tsetAlert(\r\n\t\t\t<div className=\"row spc-12\" style={{maxWidth: '320px'}}>\r\n\t\t\t\t<div className=\"col-12\">Do you want to delete this comment?</div>\r\n\t\t\t\t<div className=\"close-btn\" onClick={()=>setAlert()}/>\r\n\t\t\t\t<div className=\"Comment card col-12 row f-vert spc-12\">\r\n\t\t\t\t\t<div className=\"o ne-line\">{comment.body}</div>\r\n\t\t\t\t\t<blockquote className=\"h7 text-muted mt-2 row\">\r\n\t\t\t\t\t\t<div className=\"trim-y col\">{comment.selection_data}</div>\r\n\t\t\t\t\t</blockquote>\r\n\t\t\t\t\t<div className=\"h8 my-2 text-right\">{(new Date(comment.created_at)).toLocaleString()}</div> {/* TODO: Beautify */}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"bottom-row col-ext-x col-ext-b col-12 row spc-x-12 spc-y-8 f-justify-end\">\r\n\t\t\t\t\t<button className=\"outline\" onClick={()=>setAlert()}>Cancel</button>\r\n\t\t\t\t\t<button onClick={()=>{\r\n\t\t\t\t\t\taxios.delete(state.url+'comment/'+commentId).then(({data})=>{\r\n\t\t\t\t\t\t\tsetAlert()\r\n\t\t\t\t\t\t\tdispatch(['SET_DATA',{comments: [data]}])\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}>OK</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n})\r\n","import {Component} from 'react'\r\n\r\nexport default class MyComponent extends Component{\r\n\t// Used for simple 2-way binding\r\n\t// eg: <input {...this.twoWayBind('stateVariable')}/> will return\r\n\t// <input value={this.state['stateVariable']} onChange={e=>this.setState({'stateVariable':e.target.value}}/>\r\n\t// TODO: Finish comment for different params\r\n\ttwoWayBind=(property,event='onChange',valAttr='value')=>({\r\n\t\t[valAttr]:this.state[property],\r\n\t\t[event]:e=>this.setState({[property]:e.target[valAttr]}),\r\n\t})\r\n}","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {Scrollbar} from 'react-scrollbars-custom'\r\nimport axios from 'axios'\r\n\r\nimport './CommentThread.scss'\r\nimport Comment from '../Comment/Comment'\r\nimport MyComponent from '../MyComponent'\r\nimport {MainContext,nonAlphaNumericRegex} from '../../contexts/MainContext'\r\n\r\nconst initState=JSON.stringify({\r\n\tbody: '',\r\n\thashtag: '',\r\n})\r\nexport default withRouter(class CommentThread extends MyComponent{\r\n\tstatic contextType=MainContext\r\n\tstate=JSON.parse(initState)\r\n\r\n\tonSubmit=e=>{\r\n\t\te.preventDefault()\r\n\t\tconst commentId=this.props.match.params.id\r\n\t\tconst {body,hashtag}=this.state\r\n\t\tconst {COMMENTS,BOOKS,userId,url}=this.context.state\r\n\t\tconst comment=COMMENTS[commentId]\r\n\t\taxios.post(url+'comment',{\r\n\t\t\tbody,\r\n\t\t\thashtag: hashtag.replace(nonAlphaNumericRegex,'').trim(),\r\n\t\t\tuser: userId,\r\n\t\t\tbook: comment.book,\r\n\t\t\treplyto: commentId,\r\n\t\t\ttypeof: 'reply'\r\n\t\t}).then(({data})=>{\r\n\t\t\tCOMMENTS[commentId].replys.push(data.id)\r\n\t\t\tconsole.log({comments: [data,COMMENTS[commentId]]})\r\n\t\t\tconst book=BOOKS[comment.book]\r\n\t\t\tbook.comment_set.push(data.id)\r\n\t\t\tthis.context.dispatch(['SET_DATA',{comments: [data,COMMENTS[commentId]],books: [book]}])\r\n\t\t\tthis.setState(JSON.parse(initState))\r\n\t\t})\r\n\t}\r\n\r\n\trender(){\r\n\t\t// console.log(this.props)\r\n\t\tconst {onSubmit}=this\r\n\t\tconst {history,match}=this.props\r\n\t\tconst commentId=match.params.id\r\n\t\tconst {userId,USERS}=this.context.state\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"CommentThread pos-abs stretch-to-fit row spc-12 f-justify-end\">\r\n\t\t\t\t<div className=\"p-12 f-start f-justify-end f-self-start\">\r\n\t\t\t\t\t<div className=\"h5 icon icon-cross_mark\" onClick={history.goBack} style={{cursor: 'pointer'}}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Scrollbar disableTracksWidthCompensation className=\"thread-container col\" style={{height: 'auto'}}>\r\n\t\t\t\t\t<div className=\"row spc-12 f-vert pos-rel\">\r\n\t\t\t\t\t\t<Comment {...{commentId,showChildren: true}}>\r\n\t\t\t\t\t\t\t<div className=\"reply-input\">\r\n\t\t\t\t\t\t\t\t<div className=\"top-row row pb-4 f-justify-end\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 text-muted\">@{USERS[userId]?.username || 'Username'}</div>\r\n\t\t\t\t\t\t\t\t\t<img className=\"pos-rel\" src={require('../../assets/imgs/default-profile-icon.jpg')} alt=\"User icon\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<form className=\"form row spc-12\" {...{onSubmit}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 col-12 my-2\">Add reply</div>\r\n\t\t\t\t\t\t\t\t\t<textarea required className=\"col-12\" cols=\"30\" rows=\"10\" placeholder=\"Reply\" {...this.twoWayBind('body')}/>\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"col\" placeholder=\"#Hashtag\" {...this.twoWayBind('hashtag')}/>\r\n\t\t\t\t\t\t\t\t\t<button>Post</button>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Comment>\r\n\t\t\t\t\t\t{/*<div style={{height: '1000px'}}/>*/}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Scrollbar>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n})\r\n","export function getChildNodeIndex(element){\r\n\treturn Array.from(element.parentNode.children).indexOf(element)\r\n}","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nimport './NewQuestionComment.scss'\r\nimport MyComponent from '../MyComponent'\r\nimport {MainContext,nonAlphaNumericRegex} from '../../contexts/MainContext'\r\n\r\nconst initState=JSON.stringify({\r\n\tbody: '',\r\n\thashtag: '',\r\n})\r\nexport default withRouter(class NewQuestionComment extends MyComponent{\r\n\tstatic contextType=MainContext\r\n\tstate=JSON.parse(initState)\r\n\r\n\tonSubmit=e=>{\r\n\t\te.preventDefault()\r\n\r\n\t\tconst {sidebarModeText,selection,selectionText,book,history}=this.props\r\n\t\tconst {body,hashtag}=this.state\r\n\t\tconst {userId,url}=this.context.state\r\n\r\n\t\taxios.post(url+'comment',{\r\n\t\t\tbody,\r\n\t\t\thashtag: hashtag.replace(nonAlphaNumericRegex,'').trim(),\r\n\t\t\tselection_data: selectionText,\r\n\t\t\tposition_data: JSON.stringify([selection]),\r\n\t\t\tuser: userId,\r\n\t\t\tbook: book.id,\r\n\t\t\ttypeof: sidebarModeText,\r\n\t\t}).then(({data})=>{\r\n\t\t\tbook.comment_set.push(data.id)\r\n\t\t\tthis.context.dispatch(['SET_DATA',{comments: [data],books: [book]}])\r\n\t\t\t// TODO: resetSelection\r\n\t\t\thistory.goBack()\r\n\t\t})\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {onSubmit}=this\r\n\t\tconst {sidebarModeText,history,selectionText}=this.props // eslint-disable-line no-unused-vars\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"NewQuestionComment modal active pos-abs stretch-to-fit p-12 f-end f-justify-center\" style={{}}>\r\n\t\t\t\t<form className=\"row spc-12\" style={{width: '480px'}} {...{onSubmit}}>\r\n\t\t\t\t\t<div className=\"close-btn\" onClick={history.goBack}/>\r\n\t\t\t\t\t<div className=\"capitalize\">New {sidebarModeText}</div>\r\n\t\t\t\t\t<blockquote className=\"col-12 h7 text-muted mt-2 row\">\r\n\t\t\t\t\t\t<div className=\"trim-y col\">{selectionText}</div>\r\n\t\t\t\t\t</blockquote>\r\n\t\t\t\t\t<textarea required className=\"col-12\" placeholder={sidebarModeText} {...this.twoWayBind('body')}/>\r\n\t\t\t\t\t<div className=\"col-12\"/>\r\n\t\t\t\t\t<div className=\"bottom-row col-12 col-ext row spc-12\">\r\n\t\t\t\t\t\t<input className=\"col\" type=\"text\" placeholder=\"#Hashtag\" {...this.twoWayBind('hashtag')}/>\r\n\t\t\t\t\t\t<button>Post</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n})\r\n","import React from 'react'\r\n\r\nimport './Spinner.scss'\r\n\r\n// TODO: change className to active\r\nexport default function Spinner({className}){\r\n\treturn (\r\n\t\t<div className={'spinner pos-abs stretch-to-fit super-center '+className}>\r\n\t\t\t<img className=\"p-8\" src={require('../../assets/imgs/spinner.gif')} alt=\"Spinner\"/>\r\n\t\t</div>\r\n\t)\r\n}","import React,{useState,useRef,useEffect} from 'react'\r\nimport {Link,withRouter,Route} from 'react-router-dom'\r\nimport {Document,Page,pdfjs} from 'react-pdf'\r\nimport _ from 'lodash'\r\n\r\nimport './PdfContainer.scss'\r\nimport {getChildNodeIndex} from '../../helper'\r\nimport NewQuestionComment from '../NewQuestionComment/NewQuestionComment'\r\nimport {Scrollbar} from 'react-scrollbars-custom'\r\n// import SegmentControls from '../../utils/SegmentControls/SegmentControls'\r\nimport Spinner from '../../utils/Spinner/Spinner'\r\nimport {state} from '../../reducers/mainReducer'\r\n\r\nconst initPageState=JSON.stringify({\r\n\tnumPages: 0,\r\n\tpages: [],\r\n})\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\nlet rendered={}\r\n\r\nconst customHighlightLayer=document.createElement('div')\r\ncustomHighlightLayer.classList.add('custom-highlight-layer','pos-abs','stretch-to-fit')\r\nconst isArray=a=>(!!a) && a.constructor===Array\r\n\r\nexport default withRouter(function PdfContainer({className,/*pdfMode,setPdfMode,*/sidebarMode,setSidebarMode,sidebarModeText,location,book}){\r\n\tconst [pageState,setPageState]=useState(JSON.parse(initPageState))\r\n\t// const [marks,setMarks]=useState([\r\n\t// \t{\r\n\t// \t\tstartPage: 0,\r\n\t// \t\tstartLine: 2,\r\n\t// \t\tstartOffset: 6,\r\n\t// \t\tendPage: 0,\r\n\t// \t\tendLine: 16,\r\n\t// \t\tendOffset: 3,\r\n\t// \t},\r\n\t// \t{\r\n\t// \t\tstartPage: 0,\r\n\t// \t\tstartLine: 2,\r\n\t// \t\tstartOffset: 3,\r\n\t// \t\tendPage: 0,\r\n\t// \t\tendLine: 4,\r\n\t// \t\tendOffset: 5,\r\n\t// \t},\r\n\t// ])\r\n\tconst [bubblePos,setBubblePos]=useState({})\r\n\tconst [selection,setSelection]=useState()\r\n\tconst [selectionText,setSelectionText]=useState('')\r\n\tconst [textLoaded,setTextLoaded]=useState(false)\r\n\tuseEffect(()=>componentDidMount(),[])\r\n\tuseEffect(didUpdate)\r\n\r\n\t// console.log(marks)\r\n\r\n\t// const marksFormatted=[]\r\n\t// marks.forEach((m,i)=>{\r\n\t// \tif(marksFormatted[m.startPage]===undefined)\r\n\t// \t\tmarksFormatted[m.startPage]=[]\r\n\t// \tif(marksFormatted[m.startPage][m.startLine]===undefined)\r\n\t// \t\tmarksFormatted[m.startPage][m.startLine]=[]\r\n\t// \tmarksFormatted[m.startPage][m.startLine].push({\r\n\t// \t\toffset: m.startOffset,i,start: true,\r\n\t// \t})\r\n\t//\r\n\t// \tif(marksFormatted[m.endPage]===undefined)\r\n\t// \t\tmarksFormatted[m.endPage]=[]\r\n\t// \tif(marksFormatted[m.endPage][m.endLine]===undefined)\r\n\t// \t\tmarksFormatted[m.endPage][m.endLine]=[]\r\n\t// \tmarksFormatted[m.endPage][m.endLine].push({\r\n\t// \t\toffset: m.endOffset,i,start: false,\r\n\t// \t})\r\n\t// })\r\n\t// marksFormatted.forEach(p=>p.forEach(l=>l.sort((a,b)=>a.offset-b.offset)))\r\n\t// console.log(marksFormatted)\r\n\r\n\t// let lineIndex=0\r\n\tconst inputRef=useRef()\r\n\t// const tagStack=[]\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Scrollbar disableTracksWidthCompensation>\r\n\t\t\t\t<Document\r\n\t\t\t\t\t// file={require('../../sample-data/Smith New Media CH2.pdf')}\r\n\t\t\t\t\t{...{className,onLoadSuccess,inputRef,onClick,file: book?.docfile}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{pageState.pages}\r\n\t\t\t\t\t<div className=\"new-bubble pos-abs f-end f-justify-center h7 pt-4\" style={bubblePos}>\r\n\t\t\t\t\t\t<Link to={location.pathname+'/new-comment'} className=\"py-4 px-8\" onClick={newComment}>Comment</Link>\r\n\t\t\t\t\t\t<Link to={location.pathname+'/new-question'} className=\"py-4 px-8\" onClick={newQuestion}>Question</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Document>\r\n\t\t\t</Scrollbar>\r\n\t\t\t{/*<SegmentControls className=\"pos-abs stretch-to-fit mx-auto spc-6 mode\" value={pdfMode}>*/}\r\n\t\t\t{/*\t<div className=\"p-6 text-center\" onClick={()=>setPdfMode(0)}>Reading Mode</div>*/}\r\n\t\t\t{/*\t<div className=\"p-6 text-center\" onClick={()=>setPdfMode(1)}>Highlight Mode</div>*/}\r\n\t\t\t{/*</SegmentControls>*/}\r\n\t\t\t<Spinner className={textLoaded?'':'active'}/>\r\n\t\t\t<Route path=\"*/new-comment\" component={props=><NewQuestionComment {...{props,sidebarModeText,selection,selectionText,book}}/>}/>\r\n\t\t\t<Route path=\"*/new-question\" component={props=><NewQuestionComment {...{props,sidebarModeText,selection,selectionText,book}}/>}/>\r\n\t\t</>\r\n\t)\r\n\r\n\tfunction onLoadSuccess({numPages}){\r\n\t\t// numPages=3\r\n\t\tconst pages=new Array(numPages)\r\n\t\tfor(let i=0,l={loaded: 0};i<numPages;++i){\r\n\t\t\tpages[i]=\r\n\t\t\t\t<Page\r\n\t\t\t\t\tkey={i}\r\n\t\t\t\t\tpageNumber={i+1}\r\n\t\t\t\t\trenderAnnotationLayer={false}\r\n\t\t\t\t\trenderTextLayer={true}\r\n\t\t\t\t\twidth={900}\r\n\t\t\t\t\tonGetTextSuccess={()=>{\r\n\t\t\t\t\t\tinputRef.current.children[i].appendChild(customHighlightLayer.cloneNode(true))\r\n\t\t\t\t\t\tsetTextLoaded(++l.loaded===numPages)\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t// {...{customTextRenderer}}\r\n\t\t\t\t/>\r\n\t\t}\r\n\r\n\t\tsetPageState({numPages,pages})\r\n\t}\r\n\r\n\t// function customTextRenderer(p){\r\n\t// \tconst pageIndex=p.page._pageIndex\r\n\t// \tconst l=marksFormatted[pageIndex]?.[lineIndex]\r\n\t// \tlet __html=tagStack.map(t=>`<mark-${t} class=\"mark\">`).join('')\r\n\t// \tif(l){\r\n\t// \t\tconst len=p.str.length\r\n\t// \t\tconst indices=[0,...l.map(l=>l.offset)]\r\n\t// \t\tconst substrings=[]\r\n\t// \t\tl.forEach((o,i)=>{\r\n\t// \t\t\tsubstrings.push(\r\n\t// \t\t\t\t_.escape(p.str.substring(indices[i],indices[i+1])),\r\n\t// \t\t\t\to.start?`<mark-${o.i} class=\"mark\">`:`</mark-${o.i}>`,\r\n\t// \t\t\t)\r\n\t// \t\t})\r\n\t// \t\tsubstrings.push(_.escape(p.str.substring(indices.pop(),len)))\r\n\t// \t\t__html+=substrings.join('')\r\n\t// \t}else\r\n\t// \t\t__html+=_.escape(p.str)\r\n\t//\r\n\t// \tl && l.forEach(o=>\r\n\t// \t\to.start?\r\n\t// \t\t\ttagStack.push(o.i):\r\n\t// \t\t\ttagStack.splice(tagStack.indexOf(o.i),1)\r\n\t// \t)\r\n\t//\r\n\t// \t++lineIndex\r\n\t// \treturn <span dangerouslySetInnerHTML={{__html}}/>\r\n\t// }\r\n\r\n\tfunction onClick(){\r\n\t\ttry{\r\n\t\t\tconst s=window.getSelection()\r\n\t\t\tif(s.toString()==='') throw new Error()\r\n\t\t\tlet {anchorNode,focusNode}=s\r\n\t\t\twhile(!anchorNode.closest) anchorNode=anchorNode.parentNode\r\n\t\t\twhile(!focusNode.closest) focusNode=focusNode.parentNode\r\n\r\n\t\t\tlet selection={\r\n\t\t\t\tstartPage: anchorNode.closest('.react-pdf__Page').dataset.pageNumber-1,\r\n\t\t\t\tstartLine: getChildNodeIndex(anchorNode.closest('.react-pdf__Page__textContent>span')),\r\n\t\t\t\tstartOffset: s.anchorOffset,\r\n\t\t\t\tendPage: focusNode.closest('.react-pdf__Page').dataset.pageNumber-1,\r\n\t\t\t\tendLine: getChildNodeIndex(focusNode.closest('.react-pdf__Page__textContent>span')),\r\n\t\t\t\tendOffset: s.focusOffset,\r\n\t\t\t}\r\n\r\n\t\t\tif(\r\n\t\t\t\tselection.endPage<selection.startPage ||       // eslint-disable-line no-mixed-operators\r\n\t\t\t\tselection.endPage===selection.startPage && (   // eslint-disable-line no-mixed-operators\r\n\t\t\t\t\tselection.endLine<selection.startLine ||     // eslint-disable-line no-mixed-operators\r\n\t\t\t\t\tselection.endLine===selection.startLine && ( // eslint-disable-line no-mixed-operators\r\n\t\t\t\t\t\tselection.endOffset<selection.startOffset  // eslint-disable-line no-mixed-operators\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t){\r\n\t\t\t\tselection={\r\n\t\t\t\t\tstartPage:   selection.endPage,\r\n\t\t\t\t\tstartLine:   selection.endLine,\r\n\t\t\t\t\tstartOffset: selection.endOffset,\r\n\t\t\t\t\tendPage:     selection.startPage,\r\n\t\t\t\t\tendLine:     selection.startLine,\r\n\t\t\t\t\tendOffset:   selection.startOffset,\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst pagesDOM=Array.from(inputRef.current.children).slice(\r\n\t\t\t\tselection.startPage,\r\n\t\t\t\tselection.endPage+1,\r\n\t\t\t)\r\n\t\t\tif(pagesDOM.length===1){\r\n\t\t\t\tselection=[{\r\n\t\t\t\t\tpage:        selection.startPage,\r\n\t\t\t\t\tstartLine:   selection.startLine,\r\n\t\t\t\t\tstartOffset: selection.startOffset,\r\n\t\t\t\t\tendLine:     selection.endLine,\r\n\t\t\t\t\tendOffset:   selection.endOffset,\r\n\t\t\t\t}]\r\n\t\t\t}else{\r\n\t\t\t\tconst startPage=pagesDOM.shift()\r\n\t\t\t\tconst startPageLines=startPage.children[1].children\r\n\t\t\t\tconst startPageLastLine=Array.from(startPageLines).pop()\r\n\t\t\t\t/*const lastPage=*/pagesDOM.pop()\r\n\t\t\t\tselection=[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage:        selection.startPage,\r\n\t\t\t\t\t\tstartLine:   selection.startLine,\r\n\t\t\t\t\t\tstartOffset: selection.startOffset,\r\n\t\t\t\t\t\tendLine:     startPageLines.length-1,\r\n\t\t\t\t\t\tendOffset:   startPageLastLine.innerText.length,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...pagesDOM.map((page,i)=>{\r\n\t\t\t\t\t\tconst pageLines=page.children[1].children\r\n\t\t\t\t\t\tconst pageLastLine=Array.from(pageLines).pop()\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tpage: selection.startPage+i+1,\r\n\t\t\t\t\t\t\tstartLine:   0,\r\n\t\t\t\t\t\t\tstartOffset: 0,\r\n\t\t\t\t\t\t\tendLine:     pageLines.length-1,\r\n\t\t\t\t\t\t\tendOffset:   pageLastLine.innerText.length,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpage:        selection.endPage,\r\n\t\t\t\t\t\tstartLine:   0,\r\n\t\t\t\t\t\tstartOffset: 0,\r\n\t\t\t\t\t\tendLine:     selection.endLine,\r\n\t\t\t\t\t\tendOffset:   selection.endOffset,\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t\tsetSelection(selection)\r\n\t\t\tsetSelectionText(s.toString())\r\n\r\n\t\t\tconst focusNodeClientRect=focusNode.getBoundingClientRect()\r\n\t\t\tconst scrollNode=focusNode.closest('.ScrollbarsCustom-Scroller')\r\n\t\t\tsetBubblePos({\r\n\t\t\t\ttop: focusNodeClientRect.top+focusNodeClientRect.height+scrollNode.scrollTop,\r\n\t\t\t\t// left: focusNodeClientRect.left+focusNodeClientRect.width\r\n\t\t\t})\r\n\t\t}catch(e){\r\n\t\t\t// console.log(e)\r\n\t\t\t// TODO: reset selection\r\n\t\t\tsetSelection()\r\n\t\t\tsetSelectionText('')\r\n\t\t\tsetBubblePos({})\r\n\t\t}\r\n\t}\r\n\r\n\tfunction componentDidMount(){\r\n\t\trendered={}\r\n\t}\r\n\r\n\tfunction didUpdate(){\r\n\t\tif(!textLoaded) return\r\n\r\n\t\tconst fragments={}\r\n\t\tconst createGetFragment=pageNumber=>fragments[pageNumber]??(fragments[pageNumber]=document.createDocumentFragment())\r\n\r\n\t\t// TODO: check state.COMMENTS[c]?.position_data\r\n\t\t// const highlightStack=book.comment_set.map(c=>state.COMMENTS[c]?.position_data).flatMap(p=>{\r\n\t\t// \ttry{ return [JSON.parse(p).forEach((p,i)=>p.forEach((p,j)=>{\r\n\t\t// \t\tp.commentId\r\n\t\t// \t})).flat(2)] }\r\n\t\t// \tcatch{ return [] }\r\n\t\t// })\r\n\r\n\t\tconst highlights=[]\r\n\t\tbook.comment_set.map(cid=>state.COMMENTS[cid]).forEach(c=>{\r\n\t\t\tlet posData\r\n\t\t\ttry{posData=JSON.parse(c.position_data)}catch{return}\r\n\t\t\tisArray(posData) && posData.forEach((selectionData,i)=>isArray(selectionData) && selectionData.forEach(\r\n\t\t\t\t(highlightData,j)=>{\r\n\t\t\t\t\thighlights.push({\r\n\t\t\t\t\t\tcommentId: c.id,\r\n\t\t\t\t\t\tselectionIndex: i,\r\n\t\t\t\t\t\thighlightFragment: j,\r\n\t\t\t\t\t\t...highlightData,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t))\r\n\t\t})\r\n\t\thighlights.forEach(h=>{\r\n\t\t\tconst hs=JSON.stringify(h)\r\n\t\t\tif(!rendered[hs]){\r\n\t\t\t\trendered[hs]=true\r\n\t\t\t\tconst span=document.createElement('span')\r\n\t\t\t\tspan.id='a'+h.commentId+h.selectionIndex\r\n\t\t\t\tspan.classList=\r\n\t\t\t\t\t' a'+h.commentId+\r\n\t\t\t\t\t' a'+h.commentId+h.selectionIndex+\r\n\t\t\t\t\t' a'+h.commentId+h.selectionIndex+h.highlightFragment\r\n\t\t\t\tspan.onclick=()=>document.querySelector(`#b${h.commentId}`)?.scrollIntoView({behavior: 'smooth'}) // eslint-disable-line no-unused-expressions\r\n\t\t\t\tgetHighlightTags(h,span)\r\n\t\t\t\tcreateGetFragment(h.page).appendChild(span)\r\n\t\t\t}\r\n\t\t})\r\n\t\t_.forIn(fragments,(fragment,pageNumber)=>inputRef.current.children[pageNumber].children[2].appendChild(fragment))\r\n\t}\r\n\r\n\tfunction getHighlightTags(h,fragment){\r\n\t\tconst page=inputRef.current.children[h.page]\r\n\t\tconst textLayer=page.children[1]\r\n\t\tconst lines=Array.from(textLayer.children).slice(h.startLine,h.endLine+1)\r\n\t\tif(lines.length===1){\r\n\t\t\tconst line=lines[0].cloneNode(true)\r\n\t\t\tline.innerHTML=\r\n\t\t\t\t_.escape(line.innerText.substring(0,h.startOffset))+`<span class=\"mark\">`+\r\n\t\t\t\t_.escape(line.innerText.substring(h.startOffset,h.endOffset))+`</span>`+\r\n\t\t\t\t_.escape(line.innerText.substring(h.endOffset,line.innerText.length))\r\n\t\t\tfragment.appendChild(line)\r\n\t\t}else{\r\n\t\t\ttry{\r\n\t\t\t\tconst firsLine=lines.shift().cloneNode(true)\r\n\t\t\t\tconst lastLine=lines.pop().cloneNode(true)\r\n\r\n\t\t\t\tfirsLine.innerHTML=\r\n\t\t\t\t\t_.escape(firsLine.innerText.substring(0,h.startOffset))+`<span class=\"mark\">`+\r\n\t\t\t\t\t_.escape(firsLine.innerText.substring(h.startOffset,firsLine.innerText.length))\r\n\t\t\t\tfragment.appendChild(firsLine)\r\n\r\n\t\t\t\tlines.forEach(line=>{\r\n\t\t\t\t\tconst m=line.cloneNode(true)\r\n\t\t\t\t\tm.classList='mark'\r\n\t\t\t\t\tfragment.appendChild(m)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlastLine.innerHTML=\r\n\t\t\t\t\t`<span class=\"mark\">`+\r\n\t\t\t\t\t_.escape(lastLine.innerText.substring(0,h.endOffset))+`</span>`+\r\n\t\t\t\t\t_.escape(lastLine.innerText.substring(h.endOffset,lastLine.innerText.length))\r\n\t\t\t\tfragment.appendChild(lastLine)\r\n\t\t\t}catch{}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction newComment(){\r\n\t\t// setPdfMode(0)\r\n\t\tsetSidebarMode(1)\r\n\t}\r\n\r\n\tfunction newQuestion(){\r\n\t\t// setPdfMode(0)\r\n\t\tsetSidebarMode(0)\r\n\t}\r\n})\r\n","import React,{useContext,useState,useEffect} from 'react'\r\nimport {withRouter,Route} from 'react-router-dom'\r\nimport {Scrollbar} from 'react-scrollbars-custom'\r\n\r\nimport './PdfView.scss'\r\nimport Header from '../Header/Header'\r\nimport SegmentControls from '../../utils/SegmentControls/SegmentControls'\r\nimport tabStart from '../../assets/imgs/tab-start.svg'\r\nimport Comment from '../Comment/Comment'\r\nimport CommentThread from '../CommentThread/CommentThread'\r\nimport PdfContainer from '../PdfContainer/PdfContainer'\r\nimport {MainContext} from '../../contexts/MainContext'\r\nimport axios from 'axios'\r\n\r\nexport default withRouter(function PdfView({history,match}){\r\n\tconst {state,dispatch}=useContext(MainContext)\r\n\tconst [sidebarMode,setSidebarMode]=useState(1)\r\n\tconst [userFilter,setUserFilter]=useState(false)\r\n\tconst [searchString,setSearchString]=useState('')\r\n\tuseEffect(()=>componentDidMount(),[]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n\tconst book=state.BOOKS[match.params.id]\r\n\tconst {userId}=state\r\n\tconst sidebarModeText=sidebarMode===0?'question':'comment'\r\n\r\n\tconst categorized={\r\n\t\tquestion: [],\r\n\t\tcomment: [],\r\n\t}\r\n\tbook?.comment_set.forEach(c=>{ // eslint-disable-line no-unused-expressions\r\n\t\tc=state.COMMENTS[c]\r\n\t\tif(!c) return\r\n\t\tif(!categorized[c.typeof]) categorized[c.typeof]=[]\r\n\t\tif(!c.hidden) categorized[c.typeof].push(c)\r\n\t})\r\n\tconst filtered=categorized[sidebarModeText].filter(comment=>(\r\n\t\t(!userFilter || userFilter && ''+comment.user===''+userId) && // eslint-disable-line\r\n\t\t(comment.hashtag.indexOf(searchString)!==-1)\r\n\t))\r\n\r\n\treturn (\r\n\t\t<div className=\"PdfView pos-abs stretch-to-fit f-vert\">\r\n\t\t\t<section className=\"row main-section\">\r\n\t\t\t\t<div className=\"col left-sidebar pos-rel\">\r\n\t\t\t\t\t<PdfContainer\r\n\t\t\t\t\t\t// className={pdfMode===1?'highlight-mode':''}\r\n\t\t\t\t\t\t{...{/*pdfMode,setPdfMode,*/sidebarMode,setSidebarMode,sidebarModeText,book}}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"right-sidebar row pos-rel\">\r\n\t\t\t\t\t<div className=\"vertical-tabs f-vert\">\r\n\t\t\t\t\t\t<div className=\"col\" style={{maxHeight: '14px'}}/>\r\n\t\t\t\t\t\t<div className={sidebarMode===0?'active':''} onClick={()=>setSidebarMode(0)}>\r\n\t\t\t\t\t\t\t<img src={tabStart} alt=\"\"/>\r\n\t\t\t\t\t\t\t<div className=\"vertical-text px-4\">Questions <span className=\"h7\">\r\n\t\t\t\t\t\t\t\t{categorized['question'].length}\r\n\t\t\t\t\t\t\t</span></div>\r\n\t\t\t\t\t\t\t<img src={tabStart} alt=\"\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={sidebarMode===1?'active':''} onClick={()=>setSidebarMode(1)}>\r\n\t\t\t\t\t\t\t<img src={tabStart} alt=\"\"/>\r\n\t\t\t\t\t\t\t<div className=\"vertical-text px-4\">Comments <span className=\"h7\">\r\n\t\t\t\t\t\t\t\t{categorized['comment'].length}\r\n\t\t\t\t\t\t\t</span></div>\r\n\t\t\t\t\t\t\t<img src={tabStart} alt=\"\"/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span className=\"col\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<Scrollbar disableTracksWidthCompensation>\r\n\t\t\t\t\t\t\t<div className=\"row spc-12 f-vert\">\r\n\t\t\t\t\t\t\t\t{filtered.map(c=><Comment key={c.id} {...{commentId: c.id}}/>)}\r\n\t\t\t\t\t\t\t\t<div style={{height: '2000px'}}/>\r\n\t\t\t\t\t\t\t\t<div className=\"col-ext-x col-ext-t pos-sty top-controls f-order-m1 f-vert\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row spc-12 f-vert\">\r\n\t\t\t\t\t\t\t\t\t\t<SegmentControls value={+userFilter}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"super-center capitalize\" onClick={()=>setUserFilter(false)}>All {sidebarModeText}s</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"super-center capitalize\" onClick={()=>setUserFilter(true)}>My {sidebarModeText}s</div>\r\n\t\t\t\t\t\t\t\t\t\t</SegmentControls>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\" &#xf002;  filter by hashtag\" onChange={e=>setSearchString(e.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mx-auto pill mt-8 mb-m6 px-10 py-2 h7\">{filtered.length} results</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Scrollbar>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<Header>\r\n\t\t\t\t<div className=\"icon icon-arrow_left f-order-m1 super-center\" onClick={history.goBack}/>\r\n\t\t\t\t{/*<div className=\"heading\">*/}\r\n\t\t\t\t<div className=\"col text-right mr-12\">\r\n\t\t\t\t\t<h5 className=\"col-12 b-700\">{book?book.title:'Book Title'}</h5>\r\n\t\t\t\t\t<div className=\"h7 text-muted\">Group: Group Name</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"icon icon-refresh super-center\" onClick={componentDidMount}/>\r\n\t\t\t\t{/*</div>*/}\r\n\t\t\t</Header>\r\n\t\t\t<Route path=\"*/thread/:id\" component={CommentThread}/>\r\n\t\t</div>\r\n\t)\r\n\r\n\tfunction componentDidMount(){\r\n\t\taxios.get(state.url+'readingbook/'+match.params.id).then(({data})=>{\r\n\t\t\tdispatch(['SET_DATA',data])\r\n\t\t})\r\n\t}\r\n})\r\n","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport _ from 'lodash'\r\n\r\nimport './Login.scss'\r\nimport SegmentControls from '../../utils/SegmentControls/SegmentControls'\r\nimport MyComponent from '../MyComponent'\r\nimport {MainContext} from '../../contexts/MainContext'\r\nimport Spinner from '../../utils/Spinner/Spinner'\r\n\r\nconst initState=JSON.stringify({\r\n\tmode: 0,\r\n\terrorSignUp: '',\r\n\terrorLogIn: '',\r\n\tshowSpinner: false,\r\n})\r\nexport default withRouter(class Login extends MyComponent{\r\n\tstatic contextType=MainContext\r\n\tstate=JSON.parse(initState)\r\n\r\n\tlogin=e=>{\r\n\t\te.preventDefault()\r\n\t\tthis.setState({showSpinner: true})\r\n\r\n\t\tconst {username}=this.state\r\n\t\tconst {history,location}=this.props\r\n\t\tconst {url}=this.context.state\r\n\t\taxios.post(url+'login',_.pick(this.state,['username','password']))\r\n\t\t\t.then(({data})=>{\r\n\t\t\t\tconst login=_.pick(data,['token','expiry'])\r\n\t\t\t\tlocalStorage.setItem('login',JSON.stringify(login))\r\n\t\t\t\tthis.context.dispatch(['SET_STATE',{\r\n\t\t\t\t\t...login,\r\n\t\t\t\t}])\r\n\t\t\t\taxios.get(url+'user/'+username).then(({data})=>{\r\n\t\t\t\t\tconst userId=data.id\r\n\t\t\t\t\tthis.context.dispatch(['SET_DATA',{users: [data]}])\r\n\t\t\t\t\tthis.context.dispatch(['SET_STATE',{userId}])\r\n\t\t\t\t\tlocalStorage.setItem('userId',JSON.stringify(userId))\r\n\t\t\t\t\thistory.replace(location.pathname.replaceAll('/login',''))\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch(e=>{\r\n\t\t\t\tthis.setState({errorLogIn: Object.keys(e.response.data).map(key=><div>&#xf071; {_.capitalize(key)}: {e.response.data[key]}</div>)})\r\n\t\t\t})\r\n\t\t\t.finally(()=>this.setState({showSpinner: true}))\r\n\t}\r\n\r\n\tsignUp=e=>{\r\n\t\te.preventDefault()\r\n\t\tthis.setState({showSpinner: true})\r\n\r\n\t\tconst {password,password_2}=this.state\r\n\t\tconst {url}=this.context.state\r\n\t\tif(password!==password_2){\r\n\t\t\tthis.setState({errorSignUp: <>&#xf071;The passwords dont match!</>})\r\n\t\t\treturn\r\n\t\t}\r\n\t\taxios.post(url+'register',_.pick(this.state,['username','password','email']))\r\n\t\t\t.then(({data})=>{\r\n\t\t\t\tconsole.log(data,this.state,JSON.parse(initState))\r\n\t\t\t\tthis.setState(JSON.parse(initState))\r\n\t\t\t\t// TODO: remove\r\n\t\t\t\tconst groupId='69f464bf-7f5b-4b66-a0a1-3ed388204aa0'\r\n\t\t\t\taxios.get(`http://test-for-bbbook.herokuapp.com/bbapi/group/${groupId}/adduser/${data.user.id}`)\r\n\t\t\t})\r\n\t\t\t.catch(e=>{\r\n\t\t\t\tthis.setState({errorSignUp: Object.keys(e.response.data).map(key=><div>&#xf071; {_.capitalize(key)}: {e.response.data[key]}</div>)})\r\n\t\t\t})\r\n\t\t\t.finally(()=>this.setState({showSpinner: true}))\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {login,signUp}=this\r\n\t\tconst {mode,errorSignUp,errorLogIn,showSpinner}=this.state\r\n\t\tconst {version}=this.context.state\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"Login\" className=\"pos-abs stretch-to-fit\">\r\n\t\t\t\t<div className=\"container row p-32\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<h1 className=\"heading py-32\">\r\n\t\t\t\t\t\t\tBBBook<sup className=\"h7 normal-caps ml-8\" style={{height: 'auto'}}>Pre-Alpha {version}</sup>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card row spc-16 f-vert pos-rel\" style={{width: '360px'}}>\r\n\t\t\t\t\t\t<SegmentControls value={mode}>\r\n\t\t\t\t\t\t\t<div className=\"super-center\" onClick={()=>this.setState({mode: 0})}>Log In</div>\r\n\t\t\t\t\t\t\t<div className=\"super-center\" onClick={()=>this.setState({mode: 1})}>Sign up</div>\r\n\t\t\t\t\t\t</SegmentControls>\r\n\t\t\t\t\t\t{mode===0?\r\n\t\t\t\t\t\t\t<form className=\"row spc-16 f-vert col col-ext pos-rel trim\" onSubmit={login}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h1>Log In</h1>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 text-muted\">Enter the BBBook portal.</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Username</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('username')} type=\"text\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Password</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('password')} type=\"password\"/>\r\n\t\t\t\t\t\t\t\t{/*<Link className=\"button super-center\" to=\"/dashboard\">Log In</Link>*/}\r\n\t\t\t\t\t\t\t\t<div className=\"h7 my-0 text-right text-red\">{errorLogIn}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"bottom-row col-ext-x col-ext-b text-right row f-vert spc-x-16 spc-y-12\">\r\n\t\t\t\t\t\t\t\t\t<button>Log In</button>\r\n\t\t\t\t\t\t\t\t\t<hr className=\"col-ext-x\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 text-right my-2\" onClick={()=>this.setState({mode: 1})}>New to BBBook? Sign up!</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t:<form className=\"row spc-16 f-vert col col-ext pos-rel trim\" onSubmit={signUp}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h1>Sign Up</h1>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 text-muted\">Enter the BBBook portal.</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Email</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('email')} type=\"email\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Username</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('username')} type=\"text\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Password</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('password')} type=\"password\"/>\r\n\t\t\t\t\t\t\t\t<label required className=\"h7 my-0\">Confirm Password</label>\r\n\t\t\t\t\t\t\t\t<input required {...this.twoWayBind('password_2')} type=\"password\"/>\r\n\t\t\t\t\t\t\t\t{/*<Link className=\"button super-center\" to=\"/dashboard\">Sign Up</Link>*/}\r\n\t\t\t\t\t\t\t\t<div className=\"h7 my-0 text-right text-red\">{errorSignUp}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"bottom-row col-ext-x col-ext-b text-right row f-vert spc-x-16 spc-y-12\">\r\n\t\t\t\t\t\t\t\t\t<button>Sign Up</button>\r\n\t\t\t\t\t\t\t\t\t<hr className=\"col-ext-x\"/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"h7 text-right my-2\" onClick={()=>this.setState({mode: 0})}>Have an account? Login in!</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Spinner {...{className: showSpinner?'active':''}}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n})\r\n","import React,{useContext,useEffect} from 'react'\nimport {Route,withRouter} from 'react-router-dom'\n\nimport './App.scss'\nimport {MainContext} from '../../contexts/MainContext'\nimport Sidemenu from '../Sidemenu/Sidemenu'\nimport Dashboard from '../Dashboard/Dashboard'\nimport PdfView from '../PdfView/PdfView'\nimport Login from '../Login/Login'\nimport Alert from '../../utils/Alert/Alert'\n\nexport default withRouter(function App({history,location}){\n\tuseEffect(()=>componentDidMount(),[]) // eslint-disable-line react-hooks/exhaustive-deps\n\tconst {dispatch}=useContext(MainContext)\n\n\tif(location.pathname==='/')\n\t\thistory.replace('/dashboard')\n\tif(!localStorage.getItem('login') && location.pathname.indexOf('/login')===-1)\n\t\thistory.replace(location.pathname+'/login')\n\n\treturn (\n\t\t<div id=\"App\">\n\t\t\t<Sidemenu/>\n\t\t\t<div id=\"main-content\" className=\"pos-abs stretch-to-fit\">\n\t\t\t\t<Route path=\"/dashboard\" component={Dashboard}/>\n\t\t\t</div>\n\t\t\t<Route path=\"*/pdf/:id\" component={PdfView}/>\n\t\t\t<Route path=\"*/login\" component={Login}/>\n\t\t\t<div\n\t\t\t\tid=\"shield\"\n\t\t\t\tclassName=\"hide pos-abs stretch-to-fit\"\n\t\t\t\tonClick={()=>dispatch(['SET_UI_SIDEMENU',false])}\n\t\t\t/> {/* Activated when Sidemenu active to prevent clicks over main-content */}\n\t\t\t<Alert/>\n\t\t</div>\n\t)\n\n\tfunction componentDidMount(){\n\t\tconst login=localStorage.getItem('login')\n\t\tif(login){\n\t\t\tdispatch(['SET_STATE',{\n\t\t\t\t...JSON.parse(login)\n\t\t\t}])\n\t\t}\n\n\t\tconst data=localStorage.getItem('data')\n\t\tif(data) dispatch(['SET_STATE',JSON.parse(data)])\n\t\tconst userId=localStorage.getItem('userId')\n\t\tif(userId) dispatch(['SET_STATE',{userId}])\n\t}\n})\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport {HashRouter} from 'react-router-dom'\n\nimport './index.scss'\nimport App from './components/App/App'\nimport * as serviceWorker from './serviceWorker'\nimport MainContextProvider from './contexts/MainContext'\n\nReactDOM.render(\n\t<HashRouter>\n\t\t<MainContextProvider>\n\t\t\t{/*<React.StrictMode>*/}\n\t\t\t\t<App/>\n\t\t\t{/*</React.StrictMode>*/}\n\t\t</MainContextProvider>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register()\n","module.exports = __webpack_public_path__ + \"static/media/tab-start.a5a8aa61.svg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/letter.74d7f973.png\";"],"sourceRoot":""}